<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üé∞ CATATAN TOGEL - ULTRA EDITION</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    /* ============================================
       === CYBERPUNK ULTRA THEME VARIABLES ===
       ============================================ */
    :root {
      --bg-primary: #030308;
      --bg-secondary: #0a0a1a;
      --bg-panel: rgba(10, 15, 35, 0.85);
      --bg-card: rgba(15, 20, 50, 0.75);
      
      --neon-cyan: #00f3ff;
      --neon-blue: #0066ff;
      --neon-purple: #b026ff;
      --neon-pink: #ff00aa;
      --neon-green: #00ff88;
      --neon-red: #ff3366;
      --neon-yellow: #ffcc00;
      --neon-orange: #ff6600;
      
      --text-primary: #e0f0ff;
      --text-secondary: #88aacc;
      --text-dim: #556688;
      
      --border-glow: 0 0 10px rgba(0, 243, 255, 0.5);
      --card-shadow: 0 0 30px rgba(0, 243, 255, 0.15);
      --text-glow: 0 0 10px rgba(0, 243, 255, 0.8);
      
      --gradient-main: linear-gradient(135deg, #00f3ff 0%, #b026ff 50%, #ff00aa 100%);
      --gradient-card: linear-gradient(135deg, rgba(0,243,255,0.1) 0%, rgba(176,38,255,0.1) 100%);
      
      --transition-fast: 0.2s ease;
      --transition-normal: 0.3s ease;
      --transition-slow: 0.5s ease;
    }

    /* ============================================
       === RESET & BASE STYLES ===
       ============================================ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      outline: none;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Rajdhani', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* ============================================
       === ANIMATED BACKGROUND ===
       ============================================ */
    .cyber-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    .cyber-background::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(176, 38, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(0, 243, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(255, 0, 170, 0.08) 0%, transparent 40%),
        linear-gradient(135deg, #030308 0%, #0a0a1a 50%, #030308 100%);
      animation: bgPulse 15s ease-in-out infinite;
    }

    .cyber-background::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 20s linear infinite;
    }

    @keyframes bgPulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.05); }
    }

    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(50px, 50px); }
    }

    /* Floating particles */
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--neon-cyan);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--neon-cyan);
      animation: float 20s infinite;
      opacity: 0.6;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) translateX(0); opacity: 0.6; }
      50% { transform: translateY(-100px) translateX(50px); opacity: 0.3; }
    }

    /* ============================================
       === SCROLLBAR CUSTOM ===
       ============================================ */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--gradient-main);
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--neon-cyan);
      box-shadow: 0 0 15px var(--neon-cyan);
    }

    /* ============================================
       === HEADER ===
       ============================================ */
    .app-header {
      background: linear-gradient(90deg, rgba(3,3,8,0.95), rgba(10,10,26,0.95));
      padding: 15px 25px;
      border-bottom: 2px solid var(--neon-cyan);
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);
      position: sticky;
      top: 0;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 15px;
      backdrop-filter: blur(10px);
    }

    .app-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.6rem;
      font-weight: 900;
      color: var(--neon-cyan);
      text-shadow: 0 0 20px var(--neon-cyan), 0 0 40px var(--neon-blue);
      display: flex;
      align-items: center;
      gap: 12px;
      letter-spacing: 2px;
      animation: titleGlow 3s ease-in-out infinite;
    }

    @keyframes titleGlow {
      0%, 100% { text-shadow: 0 0 20px var(--neon-cyan), 0 0 40px var(--neon-blue); }
      50% { text-shadow: 0 0 30px var(--neon-cyan), 0 0 60px var(--neon-blue), 0 0 80px var(--neon-purple); }
    }

    .app-title i {
      animation: rotateIcon 5s linear infinite;
    }

    @keyframes rotateIcon {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    #clock {
      font-family: 'Orbitron', monospace;
      font-size: 1rem;
      color: var(--neon-green);
      text-shadow: 0 0 15px var(--neon-green);
      text-align: right;
      background: rgba(0, 255, 136, 0.1);
      padding: 8px 15px;
      border-radius: 8px;
      border: 1px solid rgba(0, 255, 136, 0.3);
    }

    .date-display { display: block; font-size: 0.85em; color: var(--text-secondary); }
    .time-display { display: block; font-weight: 700; }

    /* ============================================
       === TAB NAVIGATION ===
       ============================================ */
    .tab-nav {
      display: flex;
      gap: 8px;
      padding: 15px 25px;
      background: rgba(10, 15, 35, 0.9);
      border-bottom: 1px solid var(--neon-purple);
      overflow-x: auto;
      flex-wrap: wrap;
      backdrop-filter: blur(10px);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
    }

    .tab-btn {
      padding: 10px 20px;
      background: transparent;
      border: 1px solid var(--neon-cyan);
      color: var(--neon-cyan);
      border-radius: 25px;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      font-family: 'Rajdhani', sans-serif;
      transition: all var(--transition-normal);
      white-space: nowrap;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .tab-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--gradient-main);
      transition: left var(--transition-normal);
      z-index: -1;
      opacity: 0;
    }

    .tab-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
      border-color: var(--neon-blue);
    }

    .tab-btn:hover::before {
      left: 0;
      opacity: 0.2;
    }

    .tab-btn.active {
      background: var(--gradient-main);
      color: #fff;
      border-color: transparent;
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.6);
      transform: translateY(-3px);
    }

    .tab-btn.active::before {
      left: 0;
      opacity: 1;
    }

    /* ============================================
       === CONTENT AREA ===
       ============================================ */
    .tab-content {
      display: none;
      padding: 30px 25px;
      max-width: 1400px;
      margin: 0 auto;
      animation: fadeIn 0.5s ease;
    }

    .tab-content.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ============================================
       === CARDS & PANELS ===
       ============================================ */
    .card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 243, 255, 0.3);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: var(--card-shadow);
      transition: all var(--transition-normal);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--gradient-main);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform var(--transition-normal);
    }

    .card:hover {
      transform: translateY(-5px);
      border-color: var(--neon-cyan);
      box-shadow: 0 0 40px rgba(0, 243, 255, 0.25);
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card-title {
      color: var(--neon-cyan);
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 15px;
      padding-bottom: 12px;
      border-bottom: 1px dashed rgba(176, 38, 255, 0.5);
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .card-title i {
      color: var(--neon-purple);
      text-shadow: 0 0 10px var(--neon-purple);
    }

    /* ============================================
       === NOTES GRID ===
       ============================================ */
    .notes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 16px;
    }

    .note-card {
      background: rgba(20, 25, 60, 0.7);
      border: 1px solid rgba(176, 38, 255, 0.4);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all var(--transition-normal);
      position: relative;
      overflow: hidden;
    }

    .note-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, transparent 0%, rgba(0, 243, 255, 0.1) 100%);
      opacity: 0;
      transition: opacity var(--transition-normal);
    }

    .note-card:hover {
      border-color: var(--neon-cyan);
      box-shadow: 0 0 25px rgba(0, 243, 255, 0.3);
      transform: translateY(-5px) scale(1.02);
    }

    .note-card:hover::after {
      opacity: 1;
    }

    .note-title {
      color: var(--neon-green);
      font-weight: 700;
      margin-bottom: 8px;
      font-size: 1.05rem;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 8px rgba(0, 255, 136, 0.5);
    }

    .note-preview {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .note-date {
      font-size: 0.75rem;
      color: var(--neon-pink);
      margin-top: 10px;
      font-family: 'Orbitron', monospace;
      text-shadow: 0 0 5px var(--neon-pink);
    }

    .note-detail {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px dashed rgba(176, 38, 255, 0.5);
      display: none;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ============================================
       === FOTO GALLERY ===
       ============================================ */
    .foto-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 14px;
    }

    .foto-card {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid rgba(0, 243, 255, 0.4);
      cursor: pointer;
      transition: all var(--transition-normal);
      background: rgba(10, 15, 35, 0.5);
    }

    .foto-card:hover {
      transform: scale(1.05) rotate(1deg);
      box-shadow: 0 0 30px rgba(0, 243, 255, 0.4);
      border-color: var(--neon-cyan);
    }

    .foto-card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      display: block;
      transition: transform var(--transition-normal);
    }

    .foto-card:hover img {
      transform: scale(1.1);
    }

    .foto-title {
      padding: 8px;
      background: linear-gradient(transparent, rgba(0,0,0,0.9));
      font-size: 0.85rem;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: var(--text-primary);
      font-weight: 600;
    }

    /* ============================================
       === TABLES ===
       ============================================ */
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
      background: rgba(10, 15, 35, 0.5);
      border-radius: 12px;
      overflow: hidden;
    }

    th {
      background: linear-gradient(135deg, rgba(0, 243, 255, 0.2), rgba(176, 38, 255, 0.2));
      color: var(--neon-cyan);
      padding: 14px 12px;
      text-align: left;
      border: 1px solid rgba(0, 243, 255, 0.3);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.85rem;
    }

    td {
      padding: 12px;
      border: 1px solid rgba(0, 243, 255, 0.15);
      color: var(--text-primary);
      transition: background var(--transition-fast);
    }

    tr:hover td {
      background: rgba(0, 243, 255, 0.08);
    }

    /* ============================================
       === SEARCH & INPUTS ===
       ============================================ */
    .search-bar {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .search-bar input, .search-bar select {
      flex: 1;
      min-width: 180px;
      padding: 12px 18px;
      background: rgba(10, 20, 40, 0.8);
      border: 1px solid rgba(0, 243, 255, 0.4);
      border-radius: 10px;
      color: var(--text-primary);
      font-size: 1rem;
      font-family: 'Rajdhani', sans-serif;
      transition: all var(--transition-normal);
    }

    .search-bar input:focus, .search-bar select:focus {
      outline: none;
      border-color: var(--neon-cyan);
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
      background: rgba(10, 20, 40, 0.95);
    }

    .search-bar input::placeholder {
      color: var(--text-dim);
    }

    /* ============================================
       === BUTTONS ===
       ============================================ */
    .btn {
      padding: 10px 20px;
      background: var(--gradient-main);
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: all var(--transition-normal);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-family: 'Rajdhani', sans-serif;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 25px rgba(0, 243, 255, 0.5);
    }

    .btn:hover::before {
      left: 100%;
    }

    .copy-button {
      background: rgba(0, 243, 255, 0.2);
      color: var(--neon-cyan);
      padding: 6px 12px;
      font-size: 0.85rem;
      border-radius: 8px;
      border: 1px solid rgba(0, 243, 255, 0.4);
      cursor: pointer;
      margin: 4px 4px 4px 0;
      transition: all var(--transition-fast);
      font-family: 'Rajdhani', sans-serif;
      font-weight: 600;
    }

    .copy-button:hover {
      background: var(--neon-cyan);
      color: #000;
      box-shadow: 0 0 15px var(--neon-cyan);
    }

    /* ============================================
       === LIGHTBOX ===
       ============================================ */
    #lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      padding: 20px;
      backdrop-filter: blur(10px);
    }

    #lightboxImg {
      max-width: 95vw;
      max-height: 85vh;
      border-radius: 16px;
      border: 3px solid var(--neon-cyan);
      box-shadow: 0 0 50px rgba(0, 243, 255, 0.5);
      cursor: zoom-in;
      transition: transform 0.3s;
    }

    .lightbox-controls {
      margin-top: 20px;
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: center;
    }

    /* ============================================
       === TOAST NOTIFICATION ===
       ============================================ */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, var(--neon-green), #00cc88);
      color: #000;
      padding: 14px 24px;
      border-radius: 12px;
      font-weight: 700;
      box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
      z-index: 9999;
      animation: slideIn 0.4s ease, fadeOut 0.4s 2.6s forwards;
      font-family: 'Rajdhani', sans-serif;
      border: 1px solid rgba(255,255,255,0.3);
    }

    @keyframes slideIn {
      from { transform: translateX(100%) rotate(5deg); opacity: 0; }
      to { transform: translateX(0) rotate(0); opacity: 1; }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    /* ============================================
       === LOADING SPINNER ===
       ============================================ */
    .loading {
      text-align: center;
      padding: 50px;
      color: var(--neon-cyan);
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(0, 243, 255, 0.3);
      border-top-color: var(--neon-cyan);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
      box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ============================================
       === DETAILS/SUMMARY ===
       ============================================ */
    details {
      margin-bottom: 14px;
      background: rgba(20, 25, 60, 0.6);
      border-radius: 12px;
      padding: 12px 16px;
      border: 1px solid rgba(176, 38, 255, 0.4);
      transition: all var(--transition-normal);
    }

    details:hover {
      border-color: var(--neon-purple);
      box-shadow: 0 0 20px rgba(176, 38, 255, 0.2);
    }

    summary {
      color: var(--neon-cyan);
      cursor: pointer;
      font-weight: 700;
      padding: 8px 0;
      font-family: 'Orbitron', sans-serif;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    summary::-webkit-details-marker {
      display: none;
    }

    summary::before {
      content: '‚ñ∂';
      color: var(--neon-purple);
      transition: transform var(--transition-fast);
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    summary:hover {
      color: var(--neon-green);
    }

    /* ============================================
       === DEPO/WD ===
       ============================================ */
    .depo-wd-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .depo-wd-container pre {
      background: rgba(0, 30, 20, 0.6);
      padding: 16px;
      border-radius: 12px;
      font-size: 0.85rem;
      overflow-x: auto;
      max-height: 400px;
      white-space: pre-wrap;
      word-wrap: break-word;
      border: 1px solid rgba(0, 255, 136, 0.3);
      font-family: 'Orbitron', monospace;
    }

    /* ============================================
       === REPORT CARDS ===
       ============================================ */
    .report-card {
      background: rgba(20, 25, 60, 0.7);
      border: 1px solid rgba(176, 38, 255, 0.4);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
      transition: all var(--transition-normal);
    }

    .report-card:hover {
      border-color: var(--neon-cyan);
      box-shadow: 0 0 25px rgba(0, 243, 255, 0.2);
    }

    .card-accordion-title {
      color: var(--neon-green);
      font-weight: 700;
      cursor: pointer;
      padding: 10px 0;
      border-bottom: 1px dashed rgba(176, 38, 255, 0.5);
      margin-bottom: 10px;
      font-family: 'Orbitron', sans-serif;
      transition: color var(--transition-fast);
    }

    .card-accordion-title:hover {
      color: var(--neon-cyan);
    }

    .card-content-panel {
      display: none;
      padding-top: 12px;
      animation: slideDown 0.3s ease;
    }

    .report-field-group {
      margin: 12px 0;
    }

    .report-field-group label {
      color: var(--neon-cyan);
      font-size: 0.85rem;
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .report-display-value {
      background: rgba(0, 40, 60, 0.4);
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      word-wrap: break-word;
      border: 1px solid rgba(0, 243, 255, 0.2);
    }

    .neon-divider {
      border: none;
      border-top: 1px dashed rgba(176, 38, 255, 0.5);
      margin: 14px 0;
    }

    /* ============================================
       === KENDALA ===
       ============================================ */
    .kendala-card {
      background: rgba(20, 25, 60, 0.7);
      border: 1px solid rgba(176, 38, 255, 0.4);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
      transition: all var(--transition-normal);
    }

    .kendala-card:hover {
      border-color: var(--neon-red);
      box-shadow: 0 0 25px rgba(255, 51, 102, 0.2);
    }

    .kendala-judul {
      color: var(--neon-cyan);
      font-weight: 700;
      margin-bottom: 10px;
      font-family: 'Orbitron', sans-serif;
    }

    .kendala-jawaban {
      margin: 8px 0;
      padding-left: 14px;
      border-left: 3px solid var(--neon-purple);
      color: var(--text-secondary);
      background: rgba(176, 38, 255, 0.1);
      padding: 8px 12px;
      border-radius: 0 8px 8px 0;
    }

    /* ============================================
       === RESPONSIVE ===
       ============================================ */
    @media (max-width: 768px) {
      .app-title { font-size: 1.2rem; }
      #clock { font-size: 0.85rem; text-align: left; }
      .tab-btn { padding: 8px 14px; font-size: 0.85rem; }
      .card { padding: 14px; }
      .depo-wd-container { grid-template-columns: 1fr; }
      .notes-grid { grid-template-columns: 1fr; }
      .foto-gallery { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
      .search-bar { flex-direction: column; }
      .search-bar input, .search-bar select { min-width: 100%; }
    }

    /* ============================================
       === UTILITY CLASSES ===
       ============================================ */
    .text-glow {
      text-shadow: var(--text-glow);
    }

    .gradient-text {
      background: var(--gradient-main);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .pulse-animation {
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    /* ============================================
       === HIGHLIGHT EFFECTS ===
       ============================================ */
    .highlight-cyan { color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan); }
    .highlight-green { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-green); }
    .highlight-pink { color: var(--neon-pink); text-shadow: 0 0 10px var(--neon-pink); }
    .highlight-purple { color: var(--neon-purple); text-shadow: 0 0 10px var(--neon-purple); }
  </style>
</head>
<body>

  <!-- === ANIMATED BACKGROUND === -->
  <div class="cyber-background" id="cyberBackground"></div>

  <!-- === HEADER === -->
  <header class="app-header">
    <div class="app-title">
      <i class="fas fa-dice"></i>
      <span class="gradient-text">CATATAN TOGEL</span>
      <span style="font-size:0.7em; color:var(--neon-pink);">(ULTRA)</span>
    </div>
    <div id="clock">‚è≥ Loading...</div>
  </header>

  <!-- === TAB NAVIGATION === -->
  <nav class="tab-nav">
    <button class="tab-btn active" data-tab="catatan"><i class="fas fa-sticky-note"></i> Catatan</button>
    <button class="tab-btn" data-tab="foto"><i class="fas fa-images"></i> Foto</button>
    <button class="tab-btn" data-tab="pasaran"><i class="fas fa-list"></i> Pasaran</button>
    <button class="tab-btn" data-tab="hitungan"><i class="fas fa-calculator"></i> Hitungan</button>
    <button class="tab-btn" data-tab="pengaturan"><i class="fas fa-cog"></i> Pengaturan</button>
    <button class="tab-btn" data-tab="kendala"><i class="fas fa-exclamation-triangle"></i> Kendala</button>
    <button class="tab-btn" data-tab="report"><i class="fas fa-clipboard-list"></i> Report</button>
    <button class="tab-btn" data-tab="depo"><i class="fas fa-exchange-alt"></i> Depo/WD</button>
  </nav>

  <!-- === TAB: CATATAN === -->
  <section id="catatan" class="tab-content active">
    <div class="card">
      <div class="card-title"><i class="fas fa-folder"></i> Pilih Folder</div>
      <div class="search-bar">
        <select id="folderSelect">
          <option value="DEPOSIT">üí∞ DEPOSIT</option>
          <option value="WITHDRAW">üí∏ WITHDRAW</option>
          <option value="KENDALA_ALL">üö® KENDALA ALL</option>
          <option value="CARA_BERMAIN">üéÆ CARA BERMAIN</option>
        </select>
        <input type="text" id="searchNotes" placeholder="üîç Cari catatan...">
      </div>
    </div>
    <div id="notesList" class="notes-grid">
      <div class="loading">
        <div class="spinner"></div>
        <p class="highlight-cyan">Memuat data...</p>
      </div>
    </div>
  </section>

  <!-- === TAB: FOTO === -->
  <section id="foto" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-images"></i> Galeri Foto</div>
      <div class="search-bar">
        <input type="text" id="searchFoto" placeholder="üîç Cari foto...">
      </div>
    </div>
    <div id="fotoList" class="foto-gallery">
      <div class="loading">
        <div class="spinner"></div>
        <p class="highlight-cyan">Memuat foto...</p>
      </div>
    </div>
  </section>

  <!-- === TAB: PASARAN === -->
  <section id="pasaran" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-list"></i> Daftar Pasaran Togel</div>
      <div class="search-bar">
        <input type="text" id="searchPasaran" placeholder="üîç Cari pasaran...">
        <span id="tanggalPasaran" class="highlight-green" style="font-weight:700;"></span>
      </div>
      <div style="overflow-x:auto;">
        <table>
          <thead>
            <tr><th><i class="fas fa-crystal-ball"></i> Prediksi</th><th><i class="fas fa-clock"></i> Jadwal</th></tr>
          </thead>
          <tbody id="pasaranBody">
            <tr><td colspan="2" class="loading">Memuat...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- === TAB: HITUNGAN === -->
  <section id="hitungan" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-calculator"></i> Hitungan Hadiah</div>
      <div class="search-bar">
        <select id="kelompokDropdown">
          <option value="">-- Pilih Tipe Hitungan --</option>
        </select>
        <select id="labelDropdown">
          <option value="">-- Pilih Label --</option>
        </select>
      </div>
      <div id="detailHitungan" style="min-height:80px; padding:15px; background:rgba(0,30,60,0.5); border-radius:12px; border:1px solid rgba(0,243,255,0.3);">
        <p style="color:var(--text-secondary);">Pilih kelompok dan label untuk melihat hasil hitungan.</p>
      </div>
    </div>
  </section>

  <!-- === TAB: PENGATURAN === -->
  <section id="pengaturan" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-cog"></i> Pengaturan (View Only)</div>
      <div id="pengaturanContent">
        <div class="loading">
          <div class="spinner"></div>
          <p class="highlight-cyan">Memuat pengaturan...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- === TAB: KENDALA === -->
  <section id="kendala" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-exclamation-triangle"></i> Kendala & Solusi</div>
      <div id="kendalaList">
        <div class="loading">
          <div class="spinner"></div>
          <p class="highlight-cyan">Memuat data kendala...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- === TAB: REPORT === -->
  <section id="report" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-clipboard-list"></i> Report Line</div>
      <div class="search-bar">
        <input type="text" id="searchReport" placeholder="üîç Cari report...">
      </div>
      <div id="reportList">
        <div class="loading">
          <div class="spinner"></div>
          <p class="highlight-cyan">Memuat report...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- === TAB: DEPO/WD === -->
  <section id="depo" class="tab-content">
    <div class="card">
      <div class="card-title"><i class="fas fa-exchange-alt"></i> Data Deposit & Withdraw</div>
      <div class="depo-wd-container">
        <div>
          <h4 class="highlight-green" style="margin-bottom:12px; font-family:'Orbitron',sans-serif;">üì• DEPOSIT</h4>
          <pre id="depositData">Memuat...</pre>
        </div>
        <div>
          <h4 class="highlight-pink" style="margin-bottom:12px; font-family:'Orbitron',sans-serif;">üì§ WITHDRAW</h4>
          <pre id="withdrawData">Memuat...</pre>
        </div>
      </div>
    </div>
  </section>

  <!-- === LIGHTBOX === -->
  <div id="lightbox">
    <img id="lightboxImg" src="" alt="Zoom">
    <div class="lightbox-controls">
      <button class="btn" onclick="closeLightbox()"><i class="fas fa-times"></i> Tutup</button>
      <button class="btn copy-button" onclick="copyLightboxImage()"><i class="fas fa-copy"></i> Copy Foto</button>
      <span style="color:var(--text-secondary); font-size:0.9rem;">üí° Esc untuk tutup</span>
    </div>
  </div>

  <!-- === JAVASCRIPT === -->
  <script>
    // ============================================
    // ‚ö†Ô∏è GANTI URL INI DENGAN WEB APP ANDA
    // ============================================
    const API_URL = 'https://script.google.com/macros/s/YOUR_WEB_APP_ID/exec';
    // ============================================

    // === GLOBAL STATE ===
    let appData = null;
    let lightboxImages = [];
    let lightboxIndex = 0;
    let zoomLevel = 1;
    let offsetX = 0, offsetY = 0;
    let isDragging = false;
    let startX = 0, startY = 0;
    let currentFolder = 'DEPOSIT';
    let kelompokData = {};

    // ============================================
    // === CREATE PARTICLES ===
    // ============================================
    function createParticles() {
      const bg = document.getElementById('cyberBackground');
      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (15 + Math.random() * 20) + 's';
        bg.appendChild(particle);
      }
    }

    // ============================================
    // === UTILITIES ===
    // ============================================
    function showToast(msg) {
      const existing = document.getElementById('toastNotif');
      if (existing) existing.remove();
      
      const toast = document.createElement('div');
      toast.id = 'toastNotif';
      toast.className = 'toast';
      toast.innerHTML = `<i class="fas fa-check-circle"></i> ${msg}`;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }

    function copyToClipboard(text, label = 'Teks') {
      if (!text) {
        showToast('‚ùå Tidak ada data untuk disalin');
        return;
      }
      navigator.clipboard.writeText(text).then(() => {
        showToast(`${label} disalin!`);
      }).catch(() => {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        textarea.select();
        try {
          document.execCommand('copy');
          showToast(`${label} disalin (fallback)!`);
        } catch {
          showToast('‚ùå Gagal menyalin');
        }
        document.body.removeChild(textarea);
      });
    }

    // ============================================
    // === CLOCK ===
    // ============================================
    function updateClock() {
      const el = document.getElementById('clock');
      if (!el) return;
      const now = new Date();
      const dateStr = now.toLocaleDateString('id-ID', {
        weekday: 'long',
        day: '2-digit',
        month: 'long',
        year: 'numeric'
      });
      const timeStr = now.toLocaleTimeString('id-ID', {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });
      el.innerHTML = `<span class="date-display">${dateStr}</span><span class="time-display">${timeStr}</span>`;
    }

    updateClock();
    setInterval(updateClock, 1000);

    // ============================================
    // === API FETCH (SINGLE CALL) ===
    // ============================================
    async function loadAllData() {
      try {
        const res = await fetch(API_URL, {
          method: 'GET',
          redirect: 'follow'
        });
        
        if (!res.ok) {
          throw new Error(`HTTP ${res.status}: ${res.statusText}`);
        }
        
        const result = await res.json();
        
        if (result.status !== 'success') {
          throw new Error(result.message || 'Unknown error');
        }
        
        appData = result.data;
        renderAllTabs();
        
      } catch (err) {
        console.error('Load error:', err);
        showToast('‚ùå Gagal memuat: ' + err.message);
        document.querySelectorAll('.loading').forEach(el => {
          el.innerHTML = `<p style="color:var(--neon-red)">‚ùå ${err.message}</p>`;
        });
      }
    }

    // ============================================
    // === RENDER ALL TABS ===
    // ============================================
    function renderAllTabs() {
      if (!appData) return;

      renderNotesList(appData.notes?.['DEPOSIT'] || [], 'DEPOSIT');
      renderFotoGallery(appData.notes?.['FOTO'] || []);
      
      if (appData.pasaran) {
        document.getElementById('tanggalPasaran').textContent = `üìÖ ${appData.pasaran.tanggal || ''}`;
        renderPasaranTable(appData.pasaran.list || []);
      }

      if (appData.hitungan?.kelompok) {
        kelompokData = appData.hitungan.kelompok;
        const dropdown = document.getElementById('kelompokDropdown');
        dropdown.innerHTML = '<option value="">-- Pilih Tipe Hitungan --</option>';
        Object.keys(kelompokData).forEach(k => {
          dropdown.add(new Option(k, k));
        });
      }

      renderPengaturan(appData.pengaturan);
      renderKendala(appData.kendala || []);
      renderReport(appData.report || []);

      document.getElementById('depositData').textContent = appData.depoWd?.deposit || 'Tidak ada data';
      document.getElementById('withdrawData').textContent = appData.depoWd?.withdraw || 'Tidak ada data';
    }

    // ============================================
    // === NOTES ===
    // ============================================
    function renderNotesList(notes, folder) {
      const container = document.getElementById('notesList');
      if (!container) return;
      
      if (!notes || notes.length === 0) {
        container.innerHTML = '<p style="text-align:center; color:var(--text-secondary);">Tidak ada catatan.</p>';
        return;
      }

      container.className = 'notes-grid';
      container.innerHTML = notes.map(note => {
        const imageUrlMatch = note.content?.match(/(https?:\/\/[^\s]+\.(jpeg|jpg|png|gif|webp))/i);
        const imageUrl = imageUrlMatch ? imageUrlMatch[1] : null;

        return `
          <div class="note-card" onclick="toggleNoteDetail(this)">
            <h3 class="note-title">${note.title || note.judul || 'Tanpa Judul'}</h3>
            <div class="note-preview">${(note.content || '').substring(0, 100)}${(note.content?.length > 100) ? '...' : ''}</div>
            <div class="note-date">üïê ${note.date || ''}</div>
            ${imageUrl ? `<div class="note-detail" style="display:none;"><img src="${imageUrl}" style="max-width:100%; border-radius:8px; margin-top:8px;" onclick="event.stopPropagation(); showLightbox('${imageUrl}')"></div>` : ''}
            <div class="note-detail" style="display:none; margin-top:10px;">
              ${note.content2 ? `<p><strong>========:</strong><br>${note.content2}</p>` : ''}
              ${note.content3 ? `<p><strong>========:</strong><br>${note.content3}</p>` : ''}
              <button class="copy-button" onclick="event.stopPropagation(); copyToClipboard('${(note.content || '').replace(/'/g, "\\'")}', 'Catatan')"><i class="fas fa-copy"></i> Copy</button>
            </div>
          </div>
        `;
      }).join('');
    }

    function toggleNoteDetail(card) {
      const detail = card.querySelector('.note-detail:last-child');
      if (detail) {
        detail.style.display = detail.style.display === 'none' ? 'block' : 'none';
      }
    }

    // ============================================
    // === FOTO GALLERY ===
    // ============================================
    function renderFotoGallery(fotos) {
      const container = document.getElementById('fotoList');
      if (!container) return;
      
      lightboxImages = [];
      
      if (!fotos || fotos.length === 0) {
        container.innerHTML = '<p style="text-align:center; color:var(--text-secondary);">Tidak ada foto.</p>';
        return;
      }

      container.className = 'foto-gallery';
      container.innerHTML = fotos.map((foto, i) => {
        lightboxImages.push(foto.content);
        return `
          <div class="foto-card" onclick="openLightbox('${foto.content}', ${i})">
            <img src="${foto.content}" alt="${foto.title || 'Foto'}" onerror="this.parentElement.style.display='none'">
            <div class="foto-title">${foto.title || 'Tanpa judul'}</div>
          </div>
        `;
      }).join('');
    }

    // ============================================
    // === PASARAN ===
    // ============================================
    function renderPasaranTable(list) {
      const tbody = document.getElementById('pasaranBody');
      if (!tbody) return;
      
      if (!list || list.length === 0) {
        tbody.innerHTML = '<tr><td colspan="2">Tidak ada data</td></tr>';
        return;
      }

      tbody.innerHTML = list.map(row => `
        <tr>
          <td onclick="copyToClipboard('${(row[0] || '').replace(/'/g, "\\'")}', 'Prediksi')" style="cursor:pointer">üìã ${row[0] || '‚Äî'}</td>
          <td onclick="copyToClipboard('${(row[1] || '').replace(/'/g, "\\'")}', 'Jadwal')" style="cursor:pointer">üïê ${row[1] || '‚Äî'}</td>
        </tr>
      `).join('');
    }

    // ============================================
    // === HITUNGAN ===
    // ============================================
    document.getElementById('kelompokDropdown')?.addEventListener('change', function() {
      const labelDropdown = document.getElementById('labelDropdown');
      labelDropdown.innerHTML = '<option value="">-- Pilih Label --</option>';
      
      if (kelompokData[this.value]) {
        kelompokData[this.value].forEach(item => {
          labelDropdown.add(new Option(item.label, item.label));
        });
      }
    });

    document.getElementById('labelDropdown')?.addEventListener('change', function() {
      const kelompok = document.getElementById('kelompokDropdown').value;
      const label = this.value;
      const detail = document.getElementById('detailHitungan');
      
      if (kelompok && label && kelompokData[kelompok]) {
        const item = kelompokData[kelompok].find(i => i.label === label);
        if (item) {
          detail.innerHTML = `
            <div style="font-size:1.5rem; color:var(--neon-green); font-weight:700; cursor:pointer; text-align:center; padding:10px;" 
                 onclick="copyToClipboard('${(item.value || '').replace(/'/g, "\\'")}', 'Hasil')">
              ${item.value || '‚Äî'}
            </div>
          `;
        }
      }
    });

    // ============================================
    // === PENGATURAN ===
    // ============================================
    function renderPengaturan(data) {
      const container = document.getElementById('pengaturanContent');
      if (!container || !data?.data) {
        container.innerHTML = '<p style="color:var(--neon-red)">Tidak ada data pengaturan.</p>';
        return;
      }

      container.innerHTML = data.data.map(group => `
        <details>
          <summary><i class="fas fa-chevron-right"></i> ${group.judul}</summary>
          <div style="margin-top:10px; overflow-x:auto;">
            <table>
              <thead><tr><th>Nama</th><th>Hadiah</th><th>Diskon</th></tr></thead>
              <tbody>
                ${group.items.map(it => `
                  <tr>
                    <td>${it.nama || '‚Äî'}</td>
                    <td class="highlight-green">${it.hadiah || '‚Äî'}</td>
                    <td>${(it.diskon && String(it.diskon).includes('%')) ? it.diskon : 'NO DISCOUNT'}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>
        </details>
      `).join('');
    }

    // ============================================
    // === KENDALA ===
    // ============================================
    function renderKendala(items) {
      const container = document.getElementById('kendalaList');
      if (!container) return;
      
      if (!items || items.length === 0) {
        container.innerHTML = '<p>Tidak ada data kendala.</p>';
        return;
      }

      container.innerHTML = items.map(item => `
        <div class="kendala-card">
          <div class="kendala-judul">${item.judul || 'Tanpa judul'}</div>
          ${item.jawaban1 ? `<div class="kendala-jawaban">${item.jawaban1}</div>` : ''}
          ${item.jawaban2 ? `<div class="kendala-jawaban">${item.jawaban2}</div>` : ''}
          ${item.jawaban3 ? `<div class="kendala-jawaban">${item.jawaban3}</div>` : ''}
        </div>
      `).join('');
    }

    // ============================================
    // === REPORT ===
    // ============================================
    function renderReport(items) {
      const container = document.getElementById('reportList');
      if (!container) return;
      
      if (!items || items.length === 0) {
        container.innerHTML = '<p>Tidak ada report.</p>';
        return;
      }

      container.innerHTML = items.map(item => `
        <div class="report-card">
          <div class="card-accordion-title" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'none' ? 'block' : 'none'">
            <i class="fas fa-chevron-right"></i> ${item.colA || '‚Äî'}
          </div>
          <div class="card-content-panel" style="display:none;">
            ${item.colB ? `<div class="report-field-group"><label>MEMO/REPORT</label><div class="report-display-value">${item.colB}</div><button class="copy-button" onclick="copyToClipboard('${(item.colB || '').replace(/'/g, "\\'")}', 'Memo')"><i class="fas fa-copy"></i> Copy</button></div>` : ''}
            ${item.colC ? `<div class="report-field-group"><label>POST/MEMO</label><div class="report-display-value">${item.colC}</div></div>` : ''}
            ${item.colD ? `<div class="report-field-group"><label>REPORT KE LINE</label><div class="report-display-value">${item.colD}</div></div>` : ''}
          </div>
        </div>
      `).join('');
    }

    // ============================================
    // === LIGHTBOX ===
    // ============================================
    function openLightbox(src, index) {
      const lb = document.getElementById('lightbox');
      const img = document.getElementById('lightboxImg');
      img.src = src;
      lb.style.display = 'flex';
      lightboxIndex = index || 0;
      resetZoomAndPosition();
    }

    function closeLightbox() {
      document.getElementById('lightbox').style.display = 'none';
      document.getElementById('lightboxImg').src = '';
    }

    async function copyLightboxImage() {
      const img = document.getElementById('lightboxImg');
      if (!img || !img.src) {
        showToast('‚ùå Tidak ada gambar');
        return;
      }
      try {
        const res = await fetch(img.src);
        const blob = await res.blob();
        await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);
        showToast('‚úÖ Foto disalin!');
      } catch {
        showToast('‚ùå Gagal menyalin (CORS)');
      }
    }

    document.getElementById('lightbox')?.addEventListener('click', (e) => {
      if (e.target.id === 'lightbox') closeLightbox();
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft' && lightboxImages.length > 0) {
        lightboxIndex = (lightboxIndex - 1 + lightboxImages.length) % lightboxImages.length;
        openLightbox(lightboxImages[lightboxIndex], lightboxIndex);
      }
      if (e.key === 'ArrowRight' && lightboxImages.length > 0) {
        lightboxIndex = (lightboxIndex + 1) % lightboxImages.length;
        openLightbox(lightboxImages[lightboxIndex], lightboxIndex);
      }
    });

    // ============================================
    // === TAB SWITCHING ===
    // ============================================
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });

    // ============================================
    // === FOLDER SELECT ===
    // ============================================
    document.getElementById('folderSelect')?.addEventListener('change', function() {
      if (appData?.notes) {
        currentFolder = this.value;
        renderNotesList(appData.notes[this.value] || [], this.value);
      }
    });

    // ============================================
    // === SEARCH ===
    // ============================================
    document.getElementById('searchNotes')?.addEventListener('input', function() {
      const q = this.value.toLowerCase();
      document.querySelectorAll('.note-card').forEach(card => {
        const text = card.textContent.toLowerCase();
        card.style.display = text.includes(q) ? 'block' : 'none';
      });
    });

    document.getElementById('searchFoto')?.addEventListener('input', function() {
      const q = this.value.toLowerCase();
      document.querySelectorAll('.foto-card').forEach(card => {
        const text = card.textContent.toLowerCase();
        card.style.display = text.includes(q) ? 'block' : 'none';
      });
    });

    document.getElementById('searchPasaran')?.addEventListener('input', function() {
      const q = this.value.toLowerCase();
      document.querySelectorAll('#pasaranBody tr').forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(q) ? '' : 'none';
      });
    });

    document.getElementById('searchReport')?.addEventListener('input', function() {
      const q = this.value.toLowerCase();
      document.querySelectorAll('.report-card').forEach(card => {
        const text = card.textContent.toLowerCase();
        card.style.display = text.includes(q) ? 'block' : 'none';
      });
    });

    // ============================================
    // === INIT ===
    // ============================================
    document.addEventListener('DOMContentLoaded', () => {
      createParticles();
      loadAllData();
    });
  </script>
</body>
</html>
