<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üí´ LINE TOGEL - Aplikasi Catatan Neon</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ========================================
       GLOBAL RESET & VARIABEL CSS
       ======================================== */
    :root {
      --neon-blue: #00ffff;
      --neon-green: #00ff88;
      --neon-purple: #9d50ff;
      --neon-yellow: #ffcc00;
      --neon-pink: #ff00ff;
      --neon-cyan: #00ffff;
      --neon-red: #ff073a;
      --bg-dark: #001020;
      --bg-galaxy: rgba(0, 0, 50, 0.7);
      --panel-bg: rgba(0, 10, 30, 0.6);
      --panel-border: rgba(0, 229, 255, 0.4);
      --panel-shadow: rgba(0, 229, 255, 0.2);
      --text-main: #00ffff;
      --text-title: #66ffff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      transition: background 0.8s ease-in-out, color 0.3s ease;
      background-attachment: fixed;
      background-size: cover;
      color: var(--text-main);
      min-height: 100vh;
      padding: 0;
      margin: 0;
      overflow-x: hidden;
      position: relative;
    }

    /* ========================================
       BACKGROUND GIF THEMES
       ======================================== */
    /* Theme 1: Matrix Digital Rain */
    body.matrix-gif {
      background: 
        linear-gradient(rgba(0, 10, 20, 0.88), rgba(0, 10, 20, 0.95)),
        url('https://media.tenor.com/5vz8mRQ9v8AAAAAC/matrix-digital-rain.gif') center/cover fixed;
      color: #00ff41;
      font-family: 'Courier New', monospace;
    }

    /* Theme 2: Neon Grid */
    body.neon-grid-gif {
      background: 
        linear-gradient(rgba(5, 0, 20, 0.92), rgba(10, 0, 30, 0.95)),
        url('https://i.pinimg.com/originals/1a/9a/3f/1a9a3f5c5c5c5c5c5c5c5c5c5c5c5c5c.gif') center/cover fixed;
      color: #00ffff;
      font-family: 'Orbitron', sans-serif;
    }

    /* Theme 3: Starry Galaxy */
    body.starry-galaxy-gif {
      background: 
        linear-gradient(rgba(0, 5, 20, 0.88), rgba(0, 10, 30, 0.95)),
        url('https://media1.tenor.com/m/5vz8mRQ9v8AAAAAd/galaxy-space.gif') center/cover fixed;
      color: #9d50ff;
      font-family: 'Orbitron', sans-serif;
    }

    /* Theme 4: Cyberpunk City */
    body.cyberpunk-city-gif {
      background: 
        linear-gradient(rgba(10, 0, 20, 0.85), rgba(15, 0, 30, 0.95)),
        url('https://i.gifer.com/75vY.gif') center/cover fixed;
      color: #ff00ff;
      font-family: 'Orbitron', sans-serif;
    }

    /* Theme 5: Retro Arcade */
    body.retro-arcade-gif {
      background: 
        linear-gradient(rgba(26, 0, 51, 0.9), rgba(42, 0, 77, 0.95)),
        url('https://i.gifer.com/origin/b8/b8421d3bf231c3d3d3d3d3d3d3d3d3d3.gif') center/cover fixed;
      color: #ffcc00;
      font-family: 'Press Start 2P', 'Courier New', monospace;
    }

    /* Theme 6: Dark Nebula */
    body.dark-nebula-gif {
      background: 
        linear-gradient(rgba(0, 0, 15, 0.9), rgba(0, 0, 25, 0.95)),
        url('https://i.gifer.com/7GdL.gif') center/cover fixed;
      color: #66ffff;
      font-family: 'Orbitron', sans-serif;
    }

    /* ========================================
       SCROLLBAR CUSTOM
       ======================================== */
    *::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    *::-webkit-scrollbar-track {
      background: rgba(0, 0, 20, 0.4);
      border-radius: 10px;
    }

    *::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, var(--neon-blue), #0044ff);
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
    }

    *::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, var(--neon-blue), #0055ff);
      box-shadow: 0 0 15px var(--neon-blue);
    }

    /* ========================================
       THEME SWITCHER CONTAINER
       ======================================== */
    .theme-switcher-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10000;
      background: rgba(10, 5, 25, 0.92);
      border: 2px solid rgba(0, 255, 255, 0.6);
      border-radius: 18px;
      padding: 15px;
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
      backdrop-filter: blur(12px);
    }

    .theme-switcher-title {
      color: var(--neon-blue);
      font-weight: bold;
      margin-bottom: 12px;
      text-align: center;
      font-size: 15px;
      text-shadow: 0 0 8px var(--neon-blue);
      letter-spacing: 0.5px;
    }

    .theme-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }

    .theme-btn {
      padding: 8px 10px;
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: bold;
      font-size: 11px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .theme-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 0 12px rgba(255, 255, 255, 0.6);
    }

    .theme-btn.matrix { background: linear-gradient(135deg, #00ff41, #00cc33); }
    .theme-btn.grid { background: linear-gradient(135deg, #00ffff, #7b68ee); }
    .theme-btn.galaxy { background: linear-gradient(135deg, #9d50ff, #00f3ff); }
    .theme-btn.cyberpunk { background: linear-gradient(135deg, #ff00ff, #00ffff); }
    .theme-btn.retro { background: linear-gradient(135deg, #ffcc00, #ff6600); }
    .theme-btn.nebula { background: linear-gradient(135deg, #66ffff, #0077ff); }

    /* ========================================
       MAIN CONTAINER & SIDEBAR
       ======================================== */
    .main-container {
      display: flex;
      flex-direction: row;
      gap: 25px;
      padding: 20px;
      align-items: flex-start;
      justify-content: flex-start;
      flex-wrap: wrap;
      min-height: 100vh;
    }

    .sidebar-container {
      backdrop-filter: blur(20px);
      background: rgba(0, 10, 30, 0.75);
      border-radius: 22px;
      padding: 28px 22px;
      width: 100%;
      max-width: 290px;
      box-shadow: 0 0 45px rgba(0, 229, 255, 0.3);
      display: flex;
      flex-direction: column;
      gap: 22px;
      border: 1px solid rgba(0, 229, 255, 0.5);
      animation: fadeIn 0.8s ease-in;
      position: relative;
      overflow: hidden;
      height: fit-content;
      align-self: flex-start;
      top: 20px;
    }

    .sidebar-container::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(0, 229, 255, 0.15) 0%, transparent 70%);
      animation: rotateGalaxy 40s linear infinite;
      z-index: -1;
      opacity: 0.7;
    }

    @keyframes rotateGalaxy {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .sidebar-brand {
      text-align: center;
      margin-bottom: 18px;
      position: relative;
      z-index: 2;
    }

    .sidebar-brand h2 {
      margin: 0;
      font-size: 24px;
      background: linear-gradient(90deg, #00ffff, #ff00ff, #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% 200%;
      animation: neonTitle 3s ease infinite;
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.7);
    }

    @keyframes neonTitle {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .planet-icon {
      margin-bottom: 12px;
      display: flex;
      justify-content: center;
    }

    #clock {
      color: var(--neon-blue);
      text-align: center;
      margin: 15px 0 20px;
      font-weight: bold;
      font-size: 22px;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1.5px;
      text-shadow:
        0 0 8px var(--neon-blue),
        0 0 15px var(--neon-blue),
        0 0 25px rgba(0, 255, 255, 0.5);
      background: rgba(0, 20, 40, 0.6);
      padding: 10px;
      border-radius: 14px;
      border: 1px solid rgba(0, 229, 255, 0.6);
      box-shadow: 0 0 15px rgba(0, 229, 255, 0.4);
      animation: pulseClock 2s infinite alternate;
    }

    @keyframes pulseClock {
      0%, 100% { box-shadow: 0 0 10px rgba(0, 229, 255, 0.5), 0 0 20px rgba(0, 255, 255, 0.3); }
      50% { box-shadow: 0 0 18px rgba(0, 229, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.6); }
    }

    .neon-button {
      background: linear-gradient(135deg, rgba(0, 229, 255, 0.2), rgba(100, 0, 255, 0.2));
      color: var(--text-main);
      border: 1px solid rgba(0, 229, 255, 0.5);
      padding: 14px 18px;
      font-size: 15px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.35s ease;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 14px;
      box-shadow: 0 0 12px rgba(0, 229, 255, 0.25);
      position: relative;
      overflow: hidden;
      font-weight: 500;
      letter-spacing: 0.5px;
      width: 100%;
      text-align: left;
      z-index: 2;
    }

    .neon-button::after {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.4), transparent);
      transition: 0.6s;
      z-index: -1;
    }

    .neon-button:hover::after {
      left: 100%;
    }

    .neon-button:hover {
      background: rgba(0, 229, 255, 0.3);
      transform: translateX(4px) scale(1.03);
      box-shadow: 
        0 0 18px rgba(0, 229, 255, 0.8),
        0 0 30px rgba(100, 0, 255, 0.5);
      color: white;
    }

    .neon-button.active {
      background: linear-gradient(135deg, rgba(0, 255, 255, 0.4), rgba(157, 80, 255, 0.4));
      box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.9),
        0 0 35px rgba(157, 80, 255, 0.7);
      transform: scale(1.05);
      color: white;
    }

    .neon-button i {
      font-size: 18px;
      min-width: 24px;
      display: flex;
      justify-content: center;
    }

    .tooltip-text {
      visibility: hidden;
      width: 110px;
      background-color: rgba(0, 0, 30, 0.92);
      color: var(--neon-blue);
      text-align: center;
      border-radius: 8px;
      padding: 5px;
      font-size: 11px;
      font-weight: bold;
      text-shadow: 0 0 3px var(--neon-blue);
      position: absolute;
      left: 60px;
      top: 50%;
      transform: translateY(-50%);
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      z-index: 1000;
      white-space: nowrap;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
      border: 1px solid rgba(0, 255, 255, 0.4);
    }

    .neon-button:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    /* ========================================
       CONTENT AREA
       ======================================== */
    .content-area {
      flex: 1;
      min-width: 300px;
      background: rgba(0, 15, 35, 0.65);
      backdrop-filter: blur(12px);
      padding: 28px;
      border-radius: 22px;
      color: var(--text-main);
      box-shadow: 
        0 0 30px rgba(0, 229, 255, 0.3),
        0 0 50px rgba(100, 0, 255, 0.2);
      border: 1px solid rgba(0, 229, 255, 0.4);
      animation: fadeIn 0.8s ease-in;
      position: relative;
      overflow: hidden;
      min-height: calc(100vh - 40px);
    }

    .content-area::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(145deg, rgba(0, 30, 60, 0.2) 0%, transparent 60%),
        radial-gradient(circle at top right, rgba(0, 200, 255, 0.1) 0%, transparent 40%),
        radial-gradient(circle at bottom left, rgba(157, 80, 255, 0.15) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.6s ease-out;
    }

    .tab-content.active {
      display: block;
    }

    .judul-glow {
      font-size: 32px;
      text-align: center;
      padding: 15px 25px;
      color: var(--neon-blue);
      text-shadow: 
        0 0 10px var(--neon-blue),
        0 0 20px var(--neon-blue),
        0 0 35px rgba(0, 255, 255, 0.7);
      border: 2px solid rgba(0, 229, 255, 0.5);
      border-radius: 18px;
      background: rgba(0, 20, 45, 0.6);
      backdrop-filter: blur(10px);
      margin-bottom: 25px;
      position: relative;
      overflow: hidden;
      letter-spacing: 1.5px;
      font-family: 'Orbitron', sans-serif;
      font-weight: 800;
    }

    .judul-glow::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(0, 255, 255, 0.2), transparent);
      animation: rotateGlow 8s linear infinite;
      z-index: -1;
    }

    @keyframes rotateGlow {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* ========================================
       NOTE CARD STYLES
       ======================================== */
    .note-card {
      background: linear-gradient(145deg, rgba(0, 15, 40, 0.7), rgba(0, 25, 60, 0.85));
      padding: 28px;
      max-width: 1000px;
      width: 95%;
      margin: 0 auto 28px;
      color: var(--text-main);
      border-radius: 22px;
      box-shadow:
        0 0 15px rgba(0, 229, 255, 0.5),
        0 0 35px rgba(0, 229, 255, 0.3);
      backdrop-filter: blur(12px) saturate(160%);
      word-break: break-word;
      font-weight: 500;
      transition: all 0.45s cubic-bezier(0.25, 0.8, 0.25, 1);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0, 229, 255, 0.4);
    }

    .note-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(
        to bottom,
        var(--neon-blue),
        var(--neon-purple),
        var(--neon-blue)
      );
      box-shadow: 0 0 12px var(--neon-blue), 0 0 25px var(--neon-purple);
      border-radius: 0 12px 12px 0;
      animation: pulseGlow 2.5s infinite alternate;
    }

    @keyframes pulseGlow {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }

    .note-card:hover {
      transform: translateY(-6px) scale(1.012);
      box-shadow:
        0 0 25px rgba(0, 255, 255, 0.9),
        0 0 45px rgba(157, 80, 255, 0.6);
      background: linear-gradient(145deg, rgba(0, 20, 50, 0.95), rgba(0, 35, 80, 0.98));
      cursor: pointer;
    }

    .note-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text-main);
      text-shadow:
        0 0 8px var(--neon-blue),
        0 0 16px rgba(0, 255, 255, 0.7),
        0 0 24px rgba(0, 229, 255, 0.5);
      margin: 0 0 20px 0;
      letter-spacing: 1.2px;
      text-align: center;
      padding-bottom: 14px;
      border-bottom: 2px solid rgba(0, 229, 255, 0.4);
      position: relative;
      display: block;
    }

    .note-title::after {
      content: "";
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 2px;
      background: var(--neon-blue);
      box-shadow: 0 0 10px var(--neon-blue);
    }

    .note-detail {
      margin-top: 18px;
      padding-top: 18px;
      border-top: 1px solid rgba(0, 229, 255, 0.3);
    }

    .note-detail p {
      margin-bottom: 14px;
      font-size: 15px;
      color: var(--text-title);
      text-shadow: 0 0 2px rgba(0, 255, 255, 0.4);
      line-height: 1.7;
      letter-spacing: 0.3px;
    }

    .copy-button, .sticky-add-button {
      background: linear-gradient(145deg, rgba(0, 229, 255, 0.3), rgba(0, 100, 255, 0.3));
      color: var(--neon-blue);
      border: 1px solid rgba(0, 229, 255, 0.65);
      padding: 9px 18px;
      font-size: 14px;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin: 6px 4px;
      box-shadow:
        0 0 10px rgba(0, 229, 255, 0.4),
        inset 0 0 8px rgba(0, 229, 255, 0.3);
      text-shadow: 0 0 3px rgba(0, 255, 255, 0.8);
    }

    .copy-button:hover, .sticky-add-button:hover {
      background: linear-gradient(145deg, rgba(0, 255, 255, 0.5), rgba(0, 150, 255, 0.5));
      transform: translateY(-2px) scale(1.05);
      box-shadow:
        0 0 18px rgba(0, 255, 255, 0.8),
        inset 0 0 12px rgba(0, 255, 255, 0.5);
    }

    /* ========================================
       FOTO GALLERY
       ======================================== */
    .foto-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 22px;
      padding: 10px;
    }

    .foto-card {
      background: rgba(0, 15, 35, 0.75);
      border-radius: 18px;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(0, 229, 255, 0.25);
      transition: all 0.4s ease;
      border: 1px solid rgba(0, 229, 255, 0.3);
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .foto-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 12px 35px rgba(0, 255, 255, 0.45);
      border-color: var(--neon-blue);
    }

    .foto-card img {
      width: 100%;
      height: 240px;
      object-fit: contain;
      object-position: center;
      display: block;
      background-color: #000;
      transition: transform 0.5s ease;
      border-bottom: 1px solid rgba(0, 229, 255, 0.3);
    }

    .foto-card:hover img {
      transform: scale(1.05);
    }

    .foto-title {
      padding: 12px;
      text-align: center;
      font-weight: 700;
      font-size: 16px;
      color: var(--neon-blue);
      text-shadow: 0 0 6px var(--neon-blue), 0 0 12px rgba(0, 255, 255, 0.7);
      background: rgba(0, 10, 30, 0.7);
      border-top: 1px solid rgba(0, 229, 255, 0.3);
    }

    /* ========================================
       SEARCH & INPUT STYLES
       ======================================== */
    .search-bar {
      margin: 20px 0 25px;
      text-align: center;
    }

    #searchInput, .pasaran-search, .input-tanggal {
      width: 100%;
      max-width: 500px;
      padding: 14px 20px;
      margin: 0 auto;
      background: rgba(0, 20, 45, 0.75);
      border: 2px solid rgba(0, 229, 255, 0.6);
      border-radius: 16px;
      color: var(--neon-blue);
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      box-shadow: 0 0 15px rgba(0, 229, 255, 0.4);
      transition: all 0.3s ease;
      font-family: 'Orbitron', sans-serif;
    }

    #searchInput:focus, .pasaran-search:focus, .input-tanggal:focus {
      outline: none;
      border-color: var(--neon-blue);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.7), 0 0 35px rgba(0, 229, 255, 0.5);
      background: rgba(0, 25, 55, 0.85);
    }

    /* ========================================
       TOAST NOTIFICATION
       ======================================== */
    #toastNotif {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 9999;
      background: rgba(0, 255, 255, 0.92);
      color: #000;
      padding: 12px 22px;
      border-radius: 14px;
      font-weight: bold;
      font-size: 16px;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
      display: none;
      animation: toastSlideIn 0.4s ease-out, toastSlideOut 0.4s ease-in 2.6s;
      letter-spacing: 0.5px;
      border: 2px solid #000;
    }

    @keyframes toastSlideIn {
      from { transform: translateX(200px) scale(0.8); opacity: 0; }
      to { transform: translateX(0) scale(1); opacity: 1; }
    }

    @keyframes toastSlideOut {
      from { transform: translateX(0) scale(1); opacity: 1; }
      to { transform: translateX(200px) scale(0.8); opacity: 0; }
    }

    /* ========================================
       LIGHTBOX MODAL
       ======================================== */
    #lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 15, 0.96);
      z-index: 10000;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
    }

    #lightboxImg {
      max-width: 90%;
      max-height: 80vh;
      border-radius: 16px;
      box-shadow: 0 0 40px var(--neon-blue), 0 0 60px rgba(0, 255, 255, 0.7);
      transition: transform 0.4s ease;
      cursor: grab;
    }

    #lightboxImg:active {
      cursor: grabbing;
    }

    .lightbox-controls {
      margin-top: 25px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .nav-button, .action-button {
      background: rgba(0, 20, 45, 0.85);
      color: var(--neon-blue);
      border: 2px solid rgba(0, 229, 255, 0.7);
      padding: 10px 22px;
      border-radius: 14px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 16px;
      min-width: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 0 12px rgba(0, 229, 255, 0.5);
    }

    .nav-button:hover, .action-button:hover {
      background: rgba(0, 30, 60, 0.95);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 229, 255, 0.6);
    }

    .zoom-slider-container {
      width: 300px;
      margin-top: 18px;
      background: rgba(0, 20, 45, 0.7);
      padding: 12px;
      border-radius: 14px;
      border: 1px solid rgba(0, 229, 255, 0.5);
      box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);
    }

    #zoomSlider {
      width: 100%;
      height: 10px;
      border-radius: 5px;
      background: rgba(0, 40, 80, 0.8);
      outline: none;
      transition: all 0.3s ease;
    }

    #zoomSlider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--neon-blue);
      cursor: pointer;
      box-shadow: 0 0 15px var(--neon-blue);
    }

    /* ========================================
       CUSTOM SELECT DROPDOWN
       ======================================== */
    .custom-select {
      position: relative;
      display: block;
      width: 100%;
      max-width: 600px;
      margin: 15px auto 22px;
    }

    .custom-select select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      width: 100%;
      padding: 14px 55px 14px 22px;
      font-size: 17px;
      font-weight: bold;
      color: var(--neon-blue);
      background: rgba(0, 20, 45, 0.82);
      border: 2px solid rgba(0, 229, 255, 0.65);
      border-radius: 16px;
      outline: none;
      cursor: pointer;
      transition: all 0.35s ease;
      box-shadow: 0 0 15px rgba(0, 229, 255, 0.45);
      backdrop-filter: blur(8px);
      font-family: 'Orbitron', sans-serif;
      text-align: center;
    }

    .custom-select::after {
      content: "‚ñº";
      position: absolute;
      top: 50%;
      right: 18px;
      transform: translateY(-50%);
      color: var(--neon-blue);
      font-size: 18px;
      pointer-events: none;
      text-shadow: 0 0 8px var(--neon-blue);
      font-weight: bold;
    }

    .custom-select select:hover {
      background: rgba(0, 30, 60, 0.9);
      border-color: var(--neon-blue);
      box-shadow: 0 0 22px rgba(0, 255, 255, 0.75);
      transform: translateY(-2px);
    }

    .custom-select select:focus {
      border-color: var(--neon-blue);
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.85), 0 0 40px rgba(0, 229, 255, 0.6);
      background: rgba(0, 35, 70, 0.92);
      animation: neonPulseSelect 1.8s infinite alternate;
    }

    @keyframes neonPulseSelect {
      0%, 100% { box-shadow: 0 0 15px rgba(0, 229, 255, 0.6), 0 0 25px rgba(0, 255, 255, 0.4); }
      50% { box-shadow: 0 0 25px rgba(0, 229, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.7); }
    }

    /* ========================================
       BUTTONS & FORM ELEMENTS
       ======================================== */
    .btn-toggle-tanggal, .btn-simpan-tanggal {
      background: linear-gradient(135deg, #00bfff, #0077ff);
      color: #000;
      padding: 10px 22px;
      border-radius: 14px;
      border: none;
      cursor: pointer;
      margin: 10px 5px;
      box-shadow: 0 0 15px rgba(0, 191, 255, 0.7);
      font-weight: bold;
      font-size: 16px;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-toggle-tanggal:hover, .btn-simpan-tanggal:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 0 22px rgba(0, 191, 255, 0.9), 0 0 35px rgba(0, 255, 255, 0.6);
      background: linear-gradient(135deg, #00ffff, #00bfff);
    }

    .btn-simpan-tanggal {
      background: linear-gradient(135deg, #00ffff, #00cc99);
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.7);
    }

    .form-tanggal {
      display: none;
      margin: 20px 0;
      text-align: center;
    }

    /* ========================================
       ANIMATIONS
       ======================================== */
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(25px) scale(0.95); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
    }

    @keyframes fadeInUp {
      from { 
        opacity: 0; 
        transform: translateY(30px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }

    /* ========================================
       RESPONSIVE DESIGN
       ======================================== */
    @media (max-width: 900px) {
      .main-container {
        flex-direction: column;
        padding: 15px;
      }
      
      .sidebar-container {
        max-width: 100%;
        width: 100%;
        border-radius: 20px;
        padding: 22px 18px;
      }
      
      .content-area {
        min-height: auto;
        padding: 22px;
        border-radius: 20px;
      }
      
      .theme-switcher-container {
        top: 15px;
        right: 15px;
        padding: 12px;
      }
      
      .theme-buttons {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .foto-gallery {
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      }
      
      .zoom-slider-container {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .theme-buttons {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .neon-button {
        padding: 12px 15px;
        font-size: 14px;
        gap: 10px;
      }
      
      .neon-button i {
        font-size: 16px;
      }
      
      .judul-glow {
        font-size: 26px;
        padding: 12px 18px;
      }
      
      #clock {
        font-size: 19px;
        padding: 8px;
      }
      
      .note-card {
        padding: 22px 18px;
        width: 98%;
      }
      
      .lightbox-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .nav-button, .action-button {
        width: 100%;
        max-width: 250px;
      }
    }
  </style>
</head>
<body class="matrix-gif">
  <!-- Theme Switcher -->
  <div class="theme-switcher-container">
    <div class="theme-switcher-title">üé® PILIH BACKGROUND GIF</div>
    <div class="theme-buttons">
      <button class="theme-btn matrix" onclick="setBgTheme('matrix-gif')">
        <i class="fas fa-code"></i> Matrix
      </button>
      <button class="theme-btn grid" onclick="setBgTheme('neon-grid-gif')">
        <i class="fas fa-th"></i> Neon Grid
      </button>
      <button class="theme-btn galaxy" onclick="setBgTheme('starry-galaxy-gif')">
        <i class="fas fa-star"></i> Galaxy
      </button>
      <button class="theme-btn cyberpunk" onclick="setBgTheme('cyberpunk-city-gif')">
        <i class="fas fa-city"></i> Cyberpunk
      </button>
      <button class="theme-btn retro" onclick="setBgTheme('retro-arcade-gif')">
        <i class="fas fa-gamepad"></i> Retro
      </button>
      <button class="theme-btn nebula" onclick="setBgTheme('dark-nebula-gif')">
        <i class="fas fa-cloud"></i> Nebula
      </button>
    </div>
  </div>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Sidebar -->
    <div class="sidebar-container">
      <!-- Toggle Button for Mobile -->
      <button id="toggleSidebarBtn" class="neon-button" style="position: absolute; top: 15px; left: 15px; width: 45px; height: 45px; padding: 0; border-radius: 50%; z-index: 100; display: none;">
        <i class="fas fa-bars"></i>
      </button>
      
      <!-- Settings Button -->
      <button class="neon-button" onclick="showTab('pengaturanTab', this)">
        <i class="fas fa-cog"></i>
        <span>Pengaturan</span>
        <span class="tooltip-text">Pengaturan Togel</span>
      </button>
      
      <!-- Logo -->
      <div class="sidebar-brand">
        <div class="planet-icon">
          <svg viewBox="0 0 64 64" width="52" height="52">
            <circle cx="32" cy="32" r="14" fill="none" stroke="#0ff" stroke-width="2">
              <animate attributeName="r" values="10;14;10" dur="2s" repeatCount="indefinite"/>
            </circle>
            <circle cx="32" cy="32" r="8" fill="#0ff">
              <animate attributeName="fill" values="#0ff;#00f;#0ff" dur="3s" repeatCount="indefinite"/>
            </circle>
            <ellipse cx="32" cy="32" rx="24" ry="10" fill="none" stroke="#0ff" stroke-width="1.5" stroke-dasharray="5,5">
              <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 32 32" to="360 32 32" dur="10s" repeatCount="indefinite"/>
            </ellipse>
          </svg>
        </div>
        <h2>LINE<span style="color:#ff00ff; text-shadow: 0 0 10px #ff00ff;">TOGEL</span></h2>
      </div>
      
      <!-- Digital Clock -->
      <div id="clock">00:00:00</div>
      
      <!-- Navigation Buttons -->
      <button class="neon-button active" onclick="loadNotes('KENDALA ALL'); showTab('catatanTab', this)">
        <i class="fas fa-headset"></i>
        <span>KENDALA ALL</span>
      </button>
      <button class="neon-button" onclick="loadNotes('FOTO'); showTab('catatanTab', this)">
        <i class="fas fa-camera"></i>
        <span>FOTO</span>
      </button>
      <button class="neon-button" onclick="loadNotes('CARA BERMAIN'); showTab('catatanTab', this)">
        <i class="fas fa-book-open"></i>
        <span>CARA BERMAIN</span>
      </button>
      <button class="neon-button" onclick="loadNotes('PROMO'); showTab('catatanTab', this)">
        <i class="fas fa-gift"></i>
        <span>PROMO</span>
      </button>
      <button class="neon-button" onclick="showTab('tryCariTab', this)">
        <i class="fas fa-search"></i>
        <span>TRY CARI SELISIH</span>
      </button>
      <button class="neon-button" onclick="loadPasaranTogel(); loadCaraHitungTogel(); showTab('prediksiGabungTab', this)">
        <i class="fas fa-bullseye"></i>
        <span>PREDIKSI & HITUNG</span>
      </button>
      <button class="neon-button" onclick="showTab('cekBonusEventTab', this)">
        <i class="fas fa-gem"></i>
        <span>CEK BONUS EVENT</span>
      </button>
      <button class="neon-button" onclick="showHadiahTab(); showTab('cekhadiahTab', this)">
        <i class="fas fa-medal"></i>
        <span>HADIAH TOGEL</span>
      </button>
      <button class="neon-button" onclick="loadReportLineData(); showTab('reportLineTab', this)">
        <i class="fas fa-file-alt"></i>
        <span>REPORT LINE</span>
      </button>
      <button class="neon-button" onclick="showTab('tanyaZTab', this)">
        <i class="fas fa-robot"></i>
        <span>TANYA Z (AI)</span>
      </button>
    </div>

    <!-- Content Area -->
    <div class="content-area">
      <!-- Tab: Catatan Utama -->
      <div id="catatanTab" class="tab-content active">
        <h1 class="judul-glow">üí´ LINE TOGEL - KENDALA ALL üí´</h1>
        
        <div class="search-bar">
          <input type="text" id="searchInput" placeholder="üîç Cari catatan..." oninput="searchNotes()">
        </div>
        
        <div id="notesList">
          <div class="note-card">
            <h3 class="note-title">‚ö†Ô∏è SERVER SEDANG MENGALAMI GANGGUAN</h3>
            <div class="note-detail">
              <p><strong>Deskripsi:</strong><br>Saat ini server Line Togel sedang mengalami gangguan teknis. Tim teknis sedang berusaha memperbaiki secepat mungkin.</p>
              <p><strong>Solusi:</strong><br>1. Tunggu beberapa menit dan coba lagi<br>2. Clear cache browser Anda<br>3. Gunakan browser Chrome atau Firefox terbaru</p>
              <p><strong>Estimasi Perbaikan:</strong><br>15-30 menit</p>
              <button class="copy-button" onclick="copyToClipboard('Server sedang gangguan, estimasi perbaikan 15-30 menit')">
                <i class="fas fa-copy"></i> Copy Solusi
              </button>
              <button class="sticky-add-button">
                <i class="fas fa-sticky-note"></i> Tambah ke Sticky Notes
              </button>
            </div>
          </div>
          
          <div class="note-card">
            <h3 class="note-title">üí∞ CARA MENGHITUNG BONUS REFERRAL</h3>
            <div class="note-detail">
              <p><strong>Rumus:</strong><br>Bonus = Total Turnover Downline √ó Persentase Bonus</p>
              <p><strong>Contoh:</strong><br>- Turnover Downline: Rp 50.000.000<br>- Persentase Bonus: 1%<br>- Bonus Anda: Rp 500.000</p>
              <p><strong>Ketentuan:</strong><br>‚Ä¢ Bonus dihitung setiap minggu<br>‚Ä¢ Minimal turnover downline Rp 5.000.000<br>‚Ä¢ Bonus maksimal Rp 5.000.000 per minggu</p>
              <button class="copy-button" onclick="copyToClipboard('Bonus = Total Turnover Downline √ó Persentase Bonus')">
                <i class="fas fa-copy"></i> Copy Rumus
              </button>
              <button class="sticky-add-button">
                <i class="fas fa-sticky-note"></i> Tambah ke Sticky Notes
              </button>
            </div>
          </div>
          
          <div class="note-card">
            <h3 class="note-title">üì± CARA DEPOSIT VIA DANA</h3>
            <div class="note-detail">
              <p><strong>Langkah-langkah:</strong></p>
              <p>1. Buka aplikasi DANA Anda<br>2. Pilih menu "Kirim"<br>3. Pilih "Ke Bank"<br>4. Pilih bank tujuan (sesuai nomor rekening di menu deposit)<br>5. Masukkan nominal deposit<br>6. Masukkan berita transfer: [USERID ANDA]<br>7. Konfirmasi transaksi</p>
              <p><strong>Catatan Penting:</strong><br>‚Ä¢ Selalu cantumkan USERID di berita transfer<br>‚Ä¢ Minimal deposit Rp 50.000<br>‚Ä¢ Proses maksimal 5 menit setelah konfirmasi</p>
              <button class="copy-button" onclick="copyToClipboard('Cara deposit via DANA: Buka DANA > Kirim > Ke Bank > Masukkan rekening tujuan > Masukkan nominal > Cantumkan USERID di berita transfer > Konfirmasi')">
                <i class="fas fa-copy"></i> Copy Panduan
              </button>
              <button class="sticky-add-button">
                <i class="fas fa-sticky-note"></i> Tambah ke Sticky Notes
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab: Prediksi & Hitung Togel -->
      <div id="prediksiGabungTab" class="tab-content">
        <h1 class="judul-glow">üéØ PREDIKSI & HITUNG TOGEL</h1>
        
        <div class="custom-select">
          <select id="kelompokDropdown" class="hitung-dropdown" onchange="isiDropdownLabel()">
            <option value="">-- Pilih Tipe Hitungan --</option>
            <option value="HITUNG HADIAH SEMUA PASARAN">HITUNG HADIAH SEMUA PASARAN</option>
            <option value="HITUNG HADIAH PASARAN TOTO MACAU 4D">HITUNG HADIAH TOTO MACAU 4D</option>
            <option value="HITUNG HADIAH PASARAN TOTO MACAU 5D">HITUNG HADIAH TOTO MACAU 5D</option>
            <option value="HITUNG HADIAH PASARAN KINGKONG 4D">HITUNG HADIAH KINGKONG 4D</option>
            <option value="PERHITUNGAN BONUS">PERHITUNGAN BONUS</option>
          </select>
        </div>
        
        <div class="custom-select">
          <select id="labelDropdown" class="hitung-dropdown" onchange="tampilkanValueHitungan()">
            <option value="">-- Pilih Label --</option>
          </select>
        </div>
        
        <div id="detailHitunganDropdown" style="margin: 25px 0; padding: 20px; background: rgba(0, 25, 55, 0.7); border-radius: 16px; text-align: center; font-size: 20px; font-weight: bold; min-height: 60px; display: flex; align-items: center; justify-content: center;">
          Pilih tipe hitungan dan label untuk melihat hasil
        </div>
        
        <hr style="margin: 35px 0; border: 0; height: 2px; background: linear-gradient(90deg, transparent, var(--neon-blue), transparent); box-shadow: 0 0 10px var(--neon-blue);">
        
        <div class="pasaran-container">
          <h2 style="text-align: center; color: var(--neon-blue); margin: 25px 0 20px; font-size: 26px; text-shadow: 0 0 10px var(--neon-blue);">üå† PREDIKSI & JADWAL TOGEL</h2>
          
          <div style="display: flex; justify-content: center; margin-bottom: 20px;">
            <input type="text" id="searchPasaran" class="pasaran-search" placeholder="Cari prediksi atau jadwal..." oninput="searchDropdowns()">
            <button id="btnToggleTanggal" class="btn-toggle-tanggal" onclick="toggleTanggalPasaran()">
              <i class="fas fa-calendar-alt"></i> Ganti Tanggal
            </button>
          </div>
          
          <div id="formTanggal" class="form-tanggal">
            <input type="date" id="tanggalPasaran" class="input-tanggal">
            <button onclick="simpanTanggalPasaran()" class="btn-simpan-tanggal">
              <i class="fas fa-save"></i> Simpan
            </button>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 25px;">
            <div style="background: rgba(0, 20, 45, 0.7); padding: 20px; border-radius: 18px; border: 1px solid rgba(0, 229, 255, 0.5);">
              <h3 style="color: var(--neon-blue); text-align: center; margin-bottom: 15px; font-size: 20px; text-shadow: 0 0 8px var(--neon-blue);">üåå PREDIKSI TOGEL</h3>
              <div class="custom-select">
                <select id="dropdownPrediksi" class="pasaran-dropdown" onchange="showDetail('prediksi')">
                  <option value="">Pilih Prediksi...</option>
                  <option value="0">SYDNEY - 4D/3D/2D</option>
                  <option value="1">SINGAPORE - 4D/3D/2D</option>
                  <option value="2">HONGKONG - 4D/3D/2D</option>
                  <option value="3">MACAU - 4D/3D/2D</option>
                  <option value="4">JAKARTA - 4D/3D/2D</option>
                </select>
              </div>
              <div id="detailPrediksi" class="dropdown-detail" style="margin-top: 15px; min-height: 100px; padding: 15px; background: rgba(0, 30, 60, 0.7); border-radius: 14px; border: 1px solid rgba(0, 229, 255, 0.5);">
                Pilih prediksi untuk melihat detail
              </div>
            </div>
            
            <div style="background: rgba(0, 20, 45, 0.7); padding: 20px; border-radius: 18px; border: 1px solid rgba(0, 229, 255, 0.5);">
              <h3 style="color: var(--neon-blue); text-align: center; margin-bottom: 15px; font-size: 20px; text-shadow: 0 0 8px var(--neon-blue);">ü™ê JADWAL TOGEL</h3>
              <div class="custom-select">
                <select id="dropdownJadwal" class="pasaran-dropdown" onchange="showDetail('jadwal')">
                  <option value="">Pilih Jadwal...</option>
                  <option value="0">SYDNEY - Buka 13:50 WIB</option>
                  <option value="1">SINGAPORE - Buka 17:30 WIB</option>
                  <option value="2">HONGKONG - Buka 23:00 WIB</option>
                  <option value="3">MACAU - Buka 21:00 WIB</option>
                  <option value="4">JAKARTA - Buka 19:30 WIB</option>
                </select>
              </div>
              <div id="detailJadwal" class="dropdown-detail" style="margin-top: 15px; min-height: 100px; padding: 15px; background: rgba(0, 30, 60, 0.7); border-radius: 14px; border: 1px solid rgba(0, 229, 255, 0.5);">
                Pilih jadwal untuk melihat detail
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab: Cek Bonus Event -->
      <div id="cekBonusEventTab" class="tab-content">
        <div class="bonus-section">
          <h1 class="judul-glow">üí´ LINE TOGEL üí´</h1>
          <h2 style="text-align: center; color: var(--neon-yellow); font-size: 28px; margin: 15px 0 25px; text-shadow: 0 0 10px var(--neon-yellow);">üíé BONUS EVENT üíé</h2>
          
          <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin: 20px 0;">
            <button class="neon-button active" onclick="switchBonusMode('bonusAsli')" style="flex: 1; min-width: 200px; justify-content: center;">
              <i class="fas fa-calculator"></i> Cek Bonus Asli
            </button>
            <button class="neon-button" onclick="switchBonusMode('galeri')" style="flex: 1; min-width: 200px; justify-content: center;">
              <i class="fas fa-images"></i> Galeri Gambar
            </button>
            <button class="neon-button" onclick="switchBonusMode('inputScatter')" style="flex: 1; min-width: 200px; justify-content: center;">
              <i class="fas fa-list"></i> Input Scatter (2 Data)
            </button>
          </div>
          
          <div id="modeBonusAsli" class="bonus-mode">
            <textarea id="bonusTextarea" class="bonus-textarea" placeholder="Tempelkan data transaksi di sini..." style="width: 100%; min-height: 150px; padding: 15px; margin: 15px 0; border-radius: 14px; background: rgba(0, 25, 55, 0.8); border: 2px solid rgba(0, 229, 255, 0.6); color: var(--neon-blue); font-family: monospace; font-size: 16px; resize: vertical;"></textarea>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0;">
              <div>
                <label for="bonusPatokan" style="display: block; margin-bottom: 8px; color: var(--neon-blue); font-weight: bold;">Nilai Patokan:</label>
                <input type="text" id="bonusPatokan" class="bonus-input" placeholder="Contoh: 5000000" style="width: 100%; padding: 12px; border-radius: 12px; background: rgba(0, 30, 60, 0.8); border: 1px solid rgba(0, 229, 255, 0.6); color: var(--neon-blue); font-weight: bold; font-size: 16px;">
              </div>
              <div>
                <label for="bonusSurplus" style="display: block; margin-bottom: 8px; color: var(--neon-blue); font-weight: bold;">Nilai Surplus:</label>
                <input type="text" id="bonusSurplus" class="bonus-input" placeholder="Contoh: 1500000" style="width: 100%; padding: 12px; border-radius: 12px; background: rgba(0, 30, 60, 0.8); border: 1px solid rgba(0, 229, 255, 0.6); color: var(--neon-blue); font-weight: bold; font-size: 16px;">
              </div>
            </div>
            
            <div style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin: 20px 0;">
              <button onclick="hitungBonusEvent()" class="bonus-btn" style="padding: 12px 25px; font-size: 16px;">
                <i class="fas fa-search"></i> Hitung Bonus
              </button>
              <button onclick="hapusBonusEvent()" class="bonus-btn danger" style="padding: 12px 25px; font-size: 16px;">
                <i class="fas fa-trash"></i> Bersihkan
              </button>
            </div>
            
            <div id="bonusHasil" class="bonus-result" style="margin-top: 20px; padding: 20px; border-radius: 16px; background: rgba(0, 25, 55, 0.85); border: 2px solid var(--neon-blue); min-height: 80px;">
              Hasil perhitungan akan muncul di sini
            </div>
          </div>
          
          <div id="modeGaleri" class="bonus-mode" style="display: none;">
            <h3 style="text-align: center; color: var(--neon-yellow); margin: 15px 0 10px; font-size: 22px;">üì∏ GALERI GAMBAR</h3>
            <p style="text-align: center; color: #a0d0ff; margin-bottom: 15px; line-height: 1.5;">
              <strong>Format:</strong> USERID link1 link2 link3<br>
              Setiap baris = satu paket gambar
            </p>
            <textarea id="bonusLinkInput" placeholder="Tempelkan data paket di sini. Setiap baris = satu paket." rows="6" style="width: 100%; padding: 15px; border-radius: 14px; background: rgba(0, 25, 55, 0.8); border: 2px solid rgba(0, 229, 255, 0.6); color: var(--neon-blue); font-family: monospace; font-size: 16px; resize: vertical; margin-bottom: 15px;"></textarea>
            
            <div style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin: 15px 0;">
              <button onclick="handleBonusInput()" class="bonus-btn" style="padding: 10px 20px; font-size: 15px;">
                <i class="fas fa-sync"></i> Proses Data
              </button>
              <button onclick="clearBonusAllData()" class="bonus-btn danger" style="padding: 10px 20px; font-size: 15px;">
                <i class="fas fa-trash"></i> Hapus Semua
              </button>
            </div>
            
            <div class="gallery-container" style="display: flex; justify-content: center; margin: 25px 0;">
              <div class="combined-image-slot" id="bonusCombinedImageSlot" onclick="openBonusZoom()" style="background: rgba(0, 20, 45, 0.8); border: 2px solid rgba(0, 229, 255, 0.6); border-radius: 16px; padding: 15px; text-align: center; cursor: pointer; max-width: 600px; width: 100%;">
                <p class="caption-userid" id="bonusCombinedSlotUserid" style="color: var(--neon-blue); text-align: center; margin: 0 0 15px; font-weight: bold; font-size: 18px; text-shadow: 0 0 8px var(--neon-blue);">USER ID</p>
                <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
                  <img id="bonusImgSlot1" src="https://via.placeholder.com/180x160/0a1a2f/ffffff?text=1" style="width:150px; height:140px; object-fit:contain; border-radius:10px; border:1px solid rgba(0,229,255,0.5);">
                  <img id="bonusImgSlot2" src="https://via.placeholder.com/180x160/0a1a2f/ffffff?text=2" style="width:150px; height:140px; object-fit:contain; border-radius:10px; border:1px solid rgba(0,229,255,0.5);">
                  <img id="bonusImgSlot3" src="https://via.placeholder.com/180x160/0a1a2f/ffffff?text=3" style="width:150px; height:140px; object-fit:contain; border-radius:10px; border:1px solid rgba(0,229,255,0.5);">
                </div>
              </div>
            </div>
            
            <p class="package-info" style="text-align: center; color: var(--neon-blue); margin-top: 15px; font-weight: bold; font-size: 16px;">
              Paket: <span id="bonusCurrentPackageNum">0</span> / <span id="bonusMaxPackageNum">0</span>
            </p>
          </div>
          
          <div id="modeInputScatter" class="bonus-mode" style="display: none;">
            <h3 style="text-align: center; color: var(--neon-yellow); margin: 15px 0 20px; font-size: 22px;">üìã INPUT SCATTER (2 DATA)</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 25px;">
              <!-- Data 1 -->
              <div style="background: rgba(0, 20, 45, 0.75); padding: 20px; border-radius: 16px; border: 1px solid rgba(0, 229, 255, 0.5);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(0, 229, 255, 0.4);">
                  <h4 style="color: var(--neon-blue); margin: 0; font-size: 18px;">DATA SCATTER 1</h4>
                  <button onclick="copyData1()" class="neon-button" style="padding: 6px 14px; font-size: 13px; width: auto;">
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
                
                <div style="display: grid; gap: 12px;">
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">1. USER ID:</label>
                    <input type="text" id="bonusUserid1" class="bonus-input" placeholder="Contoh: San221" style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">2. SCATTER 1:</label>
                    <input type="text" id="bonusScatter1_1" class="bonus-input" placeholder="Link gambar..." style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">3. SCATTER 2:</label>
                    <div style="display: flex; gap: 8px;">
                      <input type="text" id="bonusScatter2_1" class="bonus-input" placeholder="Link gambar..." style="flex: 1; padding: 10px; font-size: 14px;">
                      <button type="button" onclick="scanScatter2(1)" class="bonus-btn" style="padding: 8px 12px; font-size: 13px; white-space: nowrap; width: auto;">
                        <i class="fas fa-camera"></i> Scan
                      </button>
                    </div>
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">4. SCATTER 3:</label>
                    <input type="text" id="bonusScatter3_1" class="bonus-input" placeholder="Link gambar..." style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">5. REKENING:</label>
                    <input type="text" id="bonusRekening1" class="bonus-input" placeholder="Contoh: A SUWARSAN,085882449440" style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">6. KODE TRANSAKSI:</label>
                    <input type="text" id="bonusKodeTransaksi1" class="bonus-input" placeholder="Kode transaksi..." style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                </div>
              </div>
              
              <!-- Data 2 -->
              <div style="background: rgba(0, 20, 45, 0.75); padding: 20px; border-radius: 16px; border: 1px solid rgba(0, 229, 255, 0.5);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(0, 229, 255, 0.4);">
                  <h4 style="color: var(--neon-blue); margin: 0; font-size: 18px;">DATA SCATTER 2</h4>
                  <button onclick="copyData2()" class="neon-button" style="padding: 6px 14px; font-size: 13px; width: auto;">
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
                
                <div style="display: grid; gap: 12px;">
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">1. USER ID:</label>
                    <input type="text" id="bonusUserid2" class="bonus-input" placeholder="Contoh: Budi123" style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">2. SCATTER 1:</label>
                    <input type="text" id="bonusScatter1_2" class="bonus-input" placeholder="Link gambar..." style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">3. SCATTER 2:</label>
                    <div style="display: flex; gap: 8px;">
                      <input type="text" id="bonusScatter2_2" class="bonus-input" placeholder="Link gambar..." style="flex: 1; padding: 10px; font-size: 14px;">
                      <button type="button" onclick="scanScatter2(2)" class="bonus-btn" style="padding: 8px 12px; font-size: 13px; white-space: nowrap; width: auto;">
                        <i class="fas fa-camera"></i> Scan
                      </button>
                    </div>
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">4. SCATTER 3:</label>
                    <input type="text" id="bonusScatter3_2" class="bonus-input" placeholder="Link gambar..." style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">5. REKENING:</label>
                    <input type="text" id="bonusRekening2" class="bonus-input" placeholder="Contoh: BUDI,1234567890" style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                  <div>
                    <label style="display: block; margin-bottom: 6px; color: var(--neon-blue); font-size: 13px; font-weight: bold;">6. KODE TRANSAKSI:</label>
                    <input type="text" id="bonusKodeTransaksi2" class="bonus-input" placeholder="Kode transaksi..." style="width: 100%; padding: 10px; font-size: 14px;">
                  </div>
                </div>
              </div>
            </div>
            
            <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 20px;">
              <button onclick="copySemuaData()" class="neon-button" style="padding: 12px 25px; font-size: 16px;">
                <i class="fas fa-copy"></i> Copy Semua (2 Baris)
              </button>
              <button onclick="hapusSemuaData()" class="neon-button" style="padding: 12px 25px; font-size: 16px; background: linear-gradient(135deg, #ff4444, #cc0000);">
                <i class="fas fa-trash"></i> Hapus Semua
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Tab: Foto Gallery -->
      <div id="catatanTabFoto" class="tab-content">
        <h1 class="judul-glow">üí´ LINE TOGEL - FOTO üí´</h1>
        
        <div class="search-bar">
          <input type="text" id="searchInputFoto" placeholder="üîç Cari foto..." oninput="searchNotes()" style="max-width: 400px;">
        </div>
        
        <div id="notesList" class="foto-gallery">
          <div class="foto-card">
            <img src="https://images.unsplash.com/photo-1543269664-76bc3997d9ea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Bukti Transaksi 1">
            <div class="foto-title">BUKTI DEPOSIT USER A</div>
            <button class="copy-button" style="width: 100%; border-radius: 0; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; margin-top: 8px;">
              <i class="fas fa-copy"></i> Copy Foto
            </button>
          </div>
          
          <div class="foto-card">
            <img src="https://images.unsplash.com/photo-1563013544-824ae194bff8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Bukti Transaksi 2">
            <div class="foto-title">BUKTI WITHDRAW USER B</div>
            <button class="copy-button" style="width: 100%; border-radius: 0; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; margin-top: 8px;">
              <i class="fas fa-copy"></i> Copy Foto
            </button>
          </div>
          
          <div class="foto-card">
            <img src="https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Bukti Transaksi 3">
            <div class="foto-title">BUKTI BONUS USER C</div>
            <button class="copy-button" style="width: 100%; border-radius: 0; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; margin-top: 8px;">
              <i class="fas fa-copy"></i> Copy Foto
            </button>
          </div>
          
          <div class="foto-card">
            <img src="https://images.unsplash.com/photo-1561070791519-389dc6d66a8d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Bukti Transaksi 4">
            <div class="foto-title">BUKTI DEPOSIT USER D</div>
            <button class="copy-button" style="width: 100%; border-radius: 0; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; margin-top: 8px;">
              <i class="fas fa-copy"></i> Copy Foto
            </button>
          </div>
          
          <div class="foto-card">
            <img src="https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Bukti Transaksi 5">
            <div class="foto-title">BUKTI WITHDRAW USER E</div>
            <button class="copy-button" style="width: 100%; border-radius: 0; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; margin-top: 8px;">
              <i class="fas fa-copy"></i> Copy Foto
            </button>
          </div>
          
          <div class="foto-card">
            <img src="https://images.unsplash.com/photo-1563013544-824ae194bff8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Bukti Transaksi 6">
            <div class="foto-title">BUKTI BONUS USER F</div>
            <button class="copy-button" style="width: 100%; border-radius: 0; border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; margin-top: 8px;">
              <i class="fas fa-copy"></i> Copy Foto
            </button>
          </div>
        </div>
      </div>

      <!-- Tab: Tanya Z (AI Chat) -->
      <div id="tanyaZTab" class="tab-content">
        <h1 class="judul-glow">ü§ñ TANYA Z - AI ASSISTANT</h1>
        
        <div id="chatHistory" style="height: 65vh; overflow-y: auto; padding: 20px; border: 1px solid rgba(0, 229, 255, 0.4); border-radius: 18px; background: rgba(0, 15, 35, 0.7); margin-bottom: 20px; display: flex; flex-direction: column;">
          <div class="message ai-message" style="margin: 10px 0; display: flex; justify-content: flex-start;">
            <div class="message-bubble" style="background: rgba(0, 30, 60, 0.85); border: 1px solid rgba(0, 229, 255, 0.5); color: var(--neon-blue); padding: 15px; border-radius: 18px; max-width: 85%; line-height: 1.6;">
              <strong>Halo! üëã Saya Z, asisten AI Line Togel.</strong><br>
              Saya bisa membantu Anda dengan:<br>
              ‚Ä¢ Prediksi togel<br>
              ‚Ä¢ Perhitungan bonus<br>
              ‚Ä¢ Panduan deposit/withdraw<br>
              ‚Ä¢ Informasi pasaran<br>
              ‚Ä¢ Dan banyak lagi!<br><br>
              Ketik pertanyaan Anda atau gunakan perintah:<br>
              <span style="background: rgba(0, 40, 80, 0.7); padding: 3px 8px; border-radius: 6px; font-family: monospace; margin: 3px 0; display: inline-block;">/gambar: [deskripsi]</span> untuk membuat gambar
            </div>
          </div>
        </div>
        
        <div class="chat-input-container" style="display: flex; gap: 12px;">
          <div id="chatInput" contenteditable="true" class="chat-input-div" placeholder="Ketik pesan atau /gambar: ..." style="flex: 1; min-height: 50px; padding: 14px; background: rgba(0, 25, 50, 0.8); border: 1px solid rgba(0, 229, 255, 0.6); border-radius: 16px; color: var(--neon-blue); font-size: 16px; line-height: 1.5; outline: none; transition: all 0.3s;"></div>
          <button id="sendButton" onclick="sendMessage()" class="neon-button" style="padding: 0 25px; width: auto; min-width: 100px; height: 50px; display: flex; align-items: center; justify-content: center;">
            <i class="fas fa-paper-plane"></i> Kirim
          </button>
        </div>
      </div>

      <!-- Lightbox Modal -->
      <div id="lightbox">
        <img id="lightboxImg" src="" alt="Preview Zoom">
        <div class="lightbox-controls">
          <button onclick="changeLightbox(-1)" class="nav-button">
            <i class="fas fa-arrow-left"></i> Prev
          </button>
          <button onclick="copyPhotoFromLightbox()" class="action-button">
            <i class="fas fa-copy"></i> Copy Foto
          </button>
          <button onclick="changeLightbox(1)" class="nav-button">
            <i class="fas fa-arrow-right"></i> Next
          </button>
        </div>
        <div class="zoom-slider-container">
          <input id="zoomSlider" type="range" min="0.5" max="3" step="0.1" value="1">
        </div>
      </div>
    </div>
  </div>

  <script>
    // ========================================
    // GLOBAL VARIABLES
    // ========================================
    let currentFolder = 'KENDALA ALL';
    let allNotes = [];
    let allPasaranList = [
      ["SYDNEY - 4D/3D/2D\nColok Bebas: 2D\nColok Macau: 3D\nColok Naga: 4D\nShio: 12 Shio", "SYDNEY\nBuka: 13:50 WIB\nTutup: 13:30 WIB\nHadiah 4D: 3.000x\nDiskon 4D: 29%"],
      ["SINGAPORE - 4D/3D/2D\nColok Bebas: 2D\nColok Macau: 3D\nColok Naga: 4D\nShio: 12 Shio", "SINGAPORE\nBuka: 17:30 WIB\nTutup: 17:20 WIB\nHadiah 4D: 3.000x\nDiskon 4D: 29%"],
      ["HONGKONG - 4D/3D/2D\nColok Bebas: 2D\nColok Macau: 3D\nColok Naga: 4D\nShio: 12 Shio", "HONGKONG\nBuka: 23:00 WIB\nTutup: 22:45 WIB\nHadiah 4D: 3.000x\nDiskon 4D: 29%"],
      ["MACAU - 4D/3D/2D\nColok Bebas: 2D\nColok Macau: 3D\nColok Naga: 4D\nShio: 12 Shio", "MACAU\nBuka: 21:00 WIB\nTutup: 20:45 WIB\nHadiah 4D: 3.000x\nDiskon 4D: 29%"],
      ["JAKARTA - 4D/3D/2D\nColok Bebas: 2D\nColok Macau: 3D\nColok Naga: 4D\nShio: 12 Shio", "JAKARTA\nBuka: 19:30 WIB\nTutup: 19:15 WIB\nHadiah 4D: 3.000x\nDiskon 4D: 29%"]
    ];
    let lastPrediksiIndex = "";
    let lastJadwalIndex = "";
    let kelompokData = {
      "HITUNG HADIAH SEMUA PASARAN": [
        {label: "4D", value: "3.000x"},
        {label: "3D", value: "400x"},
        {label: "2D", value: "70x"},
        {label: "Colok Bebas", value: "2D"},
        {label: "Colok Macau", value: "3D"},
        {label: "Colok Naga", value: "4D"},
        {label: "Shio", value: "12 Shio"}
      ],
      "HITUNG HADIAH PASARAN TOTO MACAU 4D": [
        {label: "4D", value: "2.500x"},
        {label: "3D", value: "350x"},
        {label: "2D", value: "65x"},
        {label: "Colok Bebas", value: "1.5D"},
        {label: "Colok Macau", value: "2.5D"},
        {label: "Colok Naga", value: "3.5D"},
        {label: "Shio", value: "11 Shio"}
      ],
      "HITUNG HADIAH PASARAN TOTO MACAU 5D": [
        {label: "5D", value: "5.000x"},
        {label: "4D", value: "2.500x"},
        {label: "3D", value: "350x"},
        {label: "2D", value: "65x"}
      ],
      "HITUNG HADIAH PASARAN KINGKONG 4D": [
        {label: "4D", value: "2.800x"},
        {label: "3D", value: "380x"},
        {label: "2D", value: "68x"},
        {label: "Colok Bebas", value: "1.8D"},
        {label: "Colok Macau", value: "2.8D"},
        {label: "Colok Naga", value: "3.8D"}
      ],
      "PERHITUNGAN BONUS": [
        {label: "Bonus New Member", value: "10%"},
        {label: "Bonus Deposit", value: "5%"},
        {label: "Bonus Referral", value: "1%"},
        {label: "Bonus Rollingan", value: "0.5%"}
      ]
    };
    let lastKelompok = "";
    let lastLabel = "";
    let lightboxImages = [
      "https://images.unsplash.com/photo-1543269664-76bc3997d9ea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
      "https://images.unsplash.com/photo-1563013544-824ae194bff8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
      "https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
      "https://images.unsplash.com/photo-1561070791519-389dc6d66a8d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
      "https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
    ];
    let lightboxIndex = 0;
    let zoomLevel = 1;
    let offsetX = 0, offsetY = 0;
    let isDragging = false;
    let startX = 0, startY = 0;
    let currentBonusMode = 'bonusAsli';
    let bonusAllPackagesData = [];
    let bonusCurrentPackageIndex = 0;

    // ========================================
    // INITIALIZATION
    // ========================================
    document.addEventListener('DOMContentLoaded', () => {
      // Initialize clock
      updateClock();
      setInterval(updateClock, 1000);
      
      // Load saved theme
      const savedTheme = localStorage.getItem('backgroundTheme') || 'matrix-gif';
      document.body.className = savedTheme;
      
      // Setup event listeners
      setupEventListeners();
      
      // Initialize bonus gallery
      document.getElementById('bonusLinkInput').addEventListener('input', handleBonusInput);
    });

    // ========================================
    // THEME MANAGEMENT
    // ========================================
    function setBgTheme(theme) {
      document.body.className = theme;
      localStorage.setItem('backgroundTheme', theme);
      showToast(`üé® Tema "${theme.replace('-gif', '').replace('-', ' ')}" berhasil diterapkan!`);
    }

    // ========================================
    // CLOCK FUNCTION
    // ========================================
    function updateClock() {
      const clockEl = document.getElementById('clock');
      if (!clockEl) return;
      
      const now = new Date();
      const dateOptions = {
        weekday: 'long',
        day: '2-digit',
        month: 'long',
        year: 'numeric'
      };
      const timeOptions = {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      };
      
      const dateStr = now.toLocaleDateString('id-ID', dateOptions);
      const timeStr = now.toLocaleTimeString('id-ID', timeOptions);
      
      clockEl.innerHTML = `<span>${dateStr}</span><br><span>${timeStr}</span>`;
      
      // Glow effect
      clockEl.classList.toggle('active-glow', now.getSeconds() % 2 === 0);
    }

    // ========================================
    // TAB MANAGEMENT
    // ========================================
    function showTab(tabId, button) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Remove active class from all buttons
      document.querySelectorAll('.neon-button').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Show selected tab
      const activeTab = document.getElementById(tabId);
      if (activeTab) {
        activeTab.classList.add('active');
      }
      
      // Add active class to clicked button
      if (button) {
        button.classList.add('active');
      }
      
      // Special actions for certain tabs
      if (tabId === 'prediksiGabungTab') {
        loadPasaranTogel();
        loadCaraHitungTogel();
      }
    }

    // ========================================
    // PASARAN TOGEL FUNCTIONS
    // ========================================
    function loadPasaranTogel() {
      renderPasaranList(allPasaranList);
    }

    function renderPasaranList(list) {
      allPasaranList = list;
      const dropdownPrediksi = document.getElementById("dropdownPrediksi");
      const dropdownJadwal = document.getElementById("dropdownJadwal");
      
      if (!dropdownPrediksi || !dropdownJadwal) return;
      
      // Restore last selections if available
      if (lastPrediksiIndex !== "" && dropdownPrediksi.options[lastPrediksiIndex]) {
        dropdownPrediksi.value = lastPrediksiIndex;
        showDetailWithAnimation('prediksi');
      }
      
      if (lastJadwalIndex !== "" && dropdownJadwal.options[lastJadwalIndex]) {
        dropdownJadwal.value = lastJadwalIndex;
        showDetailWithAnimation('jadwal');
      }
    }

    function showDetailWithAnimation(type) {
      const selectId = (type === 'prediksi') ? "dropdownPrediksi" : "dropdownJadwal";
      const detailId = "detail" + (type === 'prediksi' ? 'Prediksi' : 'Jadwal');
      const selectElement = document.getElementById(selectId);
      const detailElement = document.getElementById(detailId);
      
      if (!selectElement || !detailElement) return;
      
      const index = selectElement.value;
      if (index === "") {
        detailElement.innerText = "Pilih " + (type === 'prediksi' ? 'prediksi' : 'jadwal') + " untuk melihat detail";
        detailElement.style.opacity = 0.6;
        return;
      }
      
      const data = allPasaranList[parseInt(index)][type === 'prediksi' ? 0 : 1];
      
      detailElement.style.transition = "opacity 0.5s, transform 0.5s";
      detailElement.style.opacity = 0;
      detailElement.style.transform = "translateY(10px)";
      
      setTimeout(() => {
        detailElement.innerText = data;
        detailElement.style.opacity = 1;
        detailElement.style.transform = "translateY(0)";
      }, 300);
      
      if (type === 'prediksi') lastPrediksiIndex = index;
      else lastJadwalIndex = index;
    }

    function showDetail(type) {
      showDetailWithAnimation(type);
    }

    function searchDropdowns() {
      const searchInput = document.getElementById("searchPasaran");
      if (!searchInput) return;
      
      const query = searchInput.value.toLowerCase();
      const dropdownPrediksi = document.getElementById("dropdownPrediksi");
      const dropdownJadwal = document.getElementById("dropdownJadwal");
      
      if (!dropdownPrediksi || !dropdownJadwal) return;
      
      // Save current selections
      const currentPrediksi = dropdownPrediksi.value;
      const currentJadwal = dropdownJadwal.value;
      
      // Clear and repopulate dropdowns
      dropdownPrediksi.innerHTML = '<option value="">Pilih Prediksi...</option>';
      dropdownJadwal.innerHTML = '<option value="">Pilih Jadwal...</option>';
      
      allPasaranList.forEach(([prediksi, jadwal], index) => {
        if (prediksi.toLowerCase().includes(query) || jadwal.toLowerCase().includes(query)) {
          dropdownPrediksi.add(new Option(prediksi.split('\n')[0], index));
          dropdownJadwal.add(new Option(jadwal.split('\n')[0], index));
        }
      });
      
      // Restore selections if possible
      if (currentPrediksi && dropdownPrediksi.options[currentPrediksi]) {
        dropdownPrediksi.value = currentPrediksi;
      }
      if (currentJadwal && dropdownJadwal.options[currentJadwal]) {
        dropdownJadwal.value = currentJadwal;
      }
    }

    function toggleTanggalPasaran() {
      const formTanggal = document.getElementById("formTanggal");
      if (formTanggal) {
        formTanggal.style.display = formTanggal.style.display === "none" ? "block" : "none";
      }
    }

    function simpanTanggalPasaran() {
      const tanggalInput = document.getElementById("tanggalPasaran");
      if (!tanggalInput || !tanggalInput.value) {
        showToast("‚ùó Silakan pilih tanggal terlebih dahulu.");
        return;
      }
      
      showToast("‚úÖ Tanggal berhasil disimpan!");
      toggleTanggalPasaran();
    }

    // ========================================
    // HITUNGAN TOGEL FUNCTIONS
    // ========================================
    function loadCaraHitungTogel() {
      lastKelompok = document.getElementById("kelompokDropdown")?.value || "";
      lastLabel = document.getElementById("labelDropdown")?.value || "";
    }

    function isiDropdownLabel() {
      const selectedKelompok = document.getElementById("kelompokDropdown")?.value;
      const labelDropdown = document.getElementById("labelDropdown");
      const detail = document.getElementById("detailHitunganDropdown");
      
      if (!labelDropdown || !detail) return;
      
      labelDropdown.innerHTML = `<option value="">-- Pilih Label --</option>`;
      detail.innerHTML = "Pilih label untuk melihat hasil";
      detail.style.opacity = 0.6;
      
      if (!selectedKelompok || !kelompokData[selectedKelompok]) return;
      
      kelompokData[selectedKelompok].forEach(item => {
        const opt = document.createElement("option");
        opt.value = item.label;
        opt.textContent = item.label;
        labelDropdown.appendChild(opt);
      });
      
      // Restore last selection if available
      if (lastLabel && [...labelDropdown.options].some(opt => opt.value === lastLabel)) {
        labelDropdown.value = lastLabel;
        tampilkanValueHitungan(true);
      }
    }

    function tampilkanValueHitungan(withAnimation = false) {
      const kelompok = document.getElementById("kelompokDropdown")?.value;
      const label = document.getElementById("labelDropdown")?.value;
      const detail = document.getElementById("detailHitunganDropdown");
      
      if (!detail) return;
      
      if (!kelompok || !label || !kelompokData[kelompok]) {
        detail.innerHTML = "Pilih label untuk melihat hasil";
        detail.style.opacity = 0.6;
        return;
      }
      
      const item = kelompokData[kelompok].find(i => i.label === label);
      if (!item) {
        detail.innerHTML = "Data tidak ditemukan";
        detail.style.opacity = 0.6;
        return;
      }
      
      if (withAnimation) {
        detail.style.opacity = "0";
        detail.style.transform = "scale(0.95)";
        setTimeout(() => {
          detail.style.transition = "all 0.4s ease";
          detail.innerHTML = `<span style="font-size: 24px; font-weight: bold; color: var(--neon-yellow);">${item.value}</span>`;
          detail.style.opacity = "1";
          detail.style.transform = "scale(1)";
        }, 200);
      } else {
        detail.innerHTML = `<span style="font-size: 24px; font-weight: bold; color: var(--neon-yellow);">${item.value}</span>`;
        detail.style.opacity = "1";
        detail.style.transform = "scale(1)";
      }
      
      lastLabel = label;
    }

    // ========================================
    // BONUS EVENT FUNCTIONS
    // ========================================
    function switchBonusMode(mode) {
      // Hide all modes
      document.getElementById('modeBonusAsli').style.display = 'none';
      document.getElementById('modeGaleri').style.display = 'none';
      document.getElementById('modeInputScatter').style.display = 'none';
      
      // Show selected mode
      if (mode === 'bonusAsli') {
        document.getElementById('modeBonusAsli').style.display = 'block';
      } else if (mode === 'galeri') {
        document.getElementById('modeGaleri').style.display = 'block';
        loadBonusImages();
      } else if (mode === 'inputScatter') {
        document.getElementById('modeInputScatter').style.display = 'block';
      }
      
      // Update button states
      document.querySelectorAll('.neon-button').forEach(btn => {
        btn.classList.remove('active');
      });
      
      const activeBtn = Array.from(document.querySelectorAll('.neon-button')).find(btn => 
        btn.textContent.includes(mode === 'bonusAsli' ? 'Cek Bonus' : mode === 'galeri' ? 'Galeri' : 'Input Scatter')
      );
      if (activeBtn) activeBtn.classList.add('active');
      
      currentBonusMode = mode;
    }

    function hitungBonusEvent() {
      const textarea = document.getElementById("bonusTextarea");
      const patokanInput = document.getElementById("bonusPatokan");
      const surplusInput = document.getElementById("bonusSurplus");
      const hasilDiv = document.getElementById("bonusHasil");
      
      if (!textarea.value.trim()) {
        showToast("‚ùó Tempelkan data transaksi terlebih dahulu.");
        return;
      }
      
      // Simulate calculation
      const patokan = parseInt(patokanInput.value.replace(/[^\d]/g, '')) || 0;
      const surplus = parseInt(surplusInput.value.replace(/[^\d]/g, '')) || 0;
      const total = 12500000; // Simulated total
      const totalPengurang = patokan + surplus;
      const selisih = total - totalPengurang;
      
      let output = `üí∞ <span style="color: var(--neon-yellow);">Total Hitungan:</span> <span class="bonus-angka">IDR ${total.toLocaleString("id-ID")}</span>`;
      if (patokan || surplus) {
        output += `<br>üì¶ <span style="color: var(--neon-yellow);">Patokan:</span> <span class="bonus-angka">IDR ${patokan.toLocaleString("id-ID")}</span>`;
        output += `<br>üìå <span style="color: var(--neon-yellow);">Surplus:</span> <span class="bonus-angka">IDR ${surplus.toLocaleString("id-ID")}</span>`;
        output += `<br>‚ûñ <span style="color: var(--neon-yellow);">Total Dikurang:</span> <span class="bonus-angka">IDR ${totalPengurang.toLocaleString("id-ID")}</span>`;
        output += `<br>üìè <span style="color: var(--neon-yellow);">Selisih:</span> <span class="bonus-angka" style="color: ${selisih === 0 ? '#00ff88' : selisih > 0 ? '#ffcc00' : '#ff6666'}">IDR ${Math.abs(selisih).toLocaleString("id-ID")}</span>`;
      }
      
      hasilDiv.innerHTML = output;
      showToast("‚úÖ Perhitungan bonus berhasil!");
    }

    function hapusBonusEvent() {
      document.getElementById("bonusTextarea").value = "";
      document.getElementById("bonusPatokan").value = "";
      document.getElementById("bonusSurplus").value = "";
      document.getElementById("bonusHasil").innerHTML = "Hasil perhitungan akan muncul di sini";
      showToast("üßπ Form berhasil dibersihkan!");
    }

    // ========================================
    // BONUS GALLERY FUNCTIONS
    // ========================================
    function handleBonusInput() {
      const inputEl = document.getElementById('bonusLinkInput');
      if (!inputEl) return;
      
      const input = inputEl.value || '';
      const lines = input.split('\n').map(l => l.trim()).filter(l => l.length > 0);
      
      bonusAllPackagesData = [];
      lines.forEach(line => {
        const words = line.split(/\s+/).filter(w => w.length > 0);
        const urls = words.filter(w => /^https?:\/\//.test(w));
        const userid = words.length > 0 && !/^https?:\/\//.test(words[0]) ? words[0] : 'N/A';
        
        if (urls.length >= 1) {
          const links = [...urls.slice(0, 3)];
          while (links.length < 3) links.push('');
          bonusAllPackagesData.push({ userid, links });
        }
      });
      
      // Update UI
      document.getElementById('bonusMaxPackageNum').textContent = bonusAllPackagesData.length;
      
      if (bonusAllPackagesData.length > 0) {
        bonusCurrentPackageIndex = Math.max(0, Math.min(bonusCurrentPackageIndex, bonusAllPackagesData.length - 1));
        updateBonusGallery(bonusCurrentPackageIndex);
      } else {
        updateBonusGallery(-1);
        document.getElementById('bonusCurrentPackageNum').textContent = '0';
      }
    }

    function updateBonusGallery(index) {
      const slots = ['bonusImgSlot1', 'bonusImgSlot2', 'bonusImgSlot3'].map(id => document.getElementById(id));
      const useridEl = document.getElementById('bonusCombinedSlotUserid');
      const currentNumEl = document.getElementById('bonusCurrentPackageNum');
      
      if (index >= 0 && index < bonusAllPackagesData.length) {
        const { userid, links } = bonusAllPackagesData[index];
        if (useridEl) useridEl.textContent = `USER ID: ${userid}`;
        
        slots.forEach((img, i) => {
          if (!img) return;
          const src = links[i] || "https://via.placeholder.com/180x160/0a1a2f/555?text=-";
          img.src = src;
          img.style.opacity = links[i] ? '1' : '0.4';
        });
        
        if (currentNumEl) currentNumEl.textContent = index + 1;
      } else {
        if (useridEl) useridEl.textContent = 'Belum Ada Data';
        
        slots.forEach((img, i) => {
          if (!img) return;
          img.src = "https://via.placeholder.com/180x160/0a1a2f/555?text=-";
          img.style.opacity = '0.4';
        });
        
        if (currentNumEl) currentNumEl.textContent = '0';
      }
    }

    function openBonusZoom() {
      if (bonusAllPackagesData.length === 0) return;
      
      const current = bonusAllPackagesData[bonusCurrentPackageIndex];
      if (!current.links.some(l => l)) return;
      
      // In a real app, this would open a modal with zoomed images
      showToast(`üñºÔ∏è Membuka galeri untuk ${current.userid}`);
    }

    function clearBonusAllData() {
      bonusAllPackagesData = [];
      document.getElementById('bonusLinkInput').value = '';
      updateBonusGallery(-1);
      document.getElementById('bonusMaxPackageNum').textContent = '0';
      showToast("‚úÖ Semua data galeri telah dihapus!");
    }

    // ========================================
    // COPY FUNCTIONS
    // ========================================
    function copyToClipboard(text) {
      if (typeof text !== 'string') {
        showToast("‚ùå Input tidak valid untuk disalin");
        return;
      }
      
      navigator.clipboard.writeText(text).then(() => {
        showToast("‚úÖ Teks berhasil disalin!");
      }).catch(err => {
        console.error("Gagal menyalin:", err);
        // Fallback method
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        textarea.select();
        
        try {
          document.execCommand('copy');
          showToast("‚úÖ Teks berhasil disalin (fallback)!");
        } catch (err) {
          showToast("‚ùå Gagal menyalin teks");
        }
        
        document.body.removeChild(textarea);
      });
    }

    function copyPhotoFromLightbox() {
      const lightboxImg = document.getElementById('lightboxImg');
      if (!lightboxImg || !lightboxImg.src) {
        showToast('‚ùó Gambar tidak ditemukan.');
        return;
      }
      
      // In a real app, this would use the Clipboard API with image data
      showToast('‚úÖ Foto berhasil disalin! (Fitur penuh memerlukan HTTPS)');
    }

    function copyData1() {
      const userid = document.getElementById('bonusUserid1').value.trim();
      if (!userid) {
        showToast("‚ùå Data 1 belum lengkap!");
        return;
      }
      
      const data = [
        document.getElementById('bonusUserid1').value.trim(),
        document.getElementById('bonusScatter1_1').value.trim(),
        document.getElementById('bonusScatter2_1').value.trim(),
        document.getElementById('bonusScatter3_1').value.trim(),
        document.getElementById('bonusRekening1').value.trim(),
        document.getElementById('bonusKodeTransaksi1').value.trim()
      ].join('\t');
      
      copyToClipboard(data);
      showToast("‚úÖ Data 1 berhasil disalin!");
    }

    function copyData2() {
      const userid = document.getElementById('bonusUserid2').value.trim();
      if (!userid) {
        showToast("‚ùå Data 2 belum lengkap!");
        return;
      }
      
      const data = [
        document.getElementById('bonusUserid2').value.trim(),
        document.getElementById('bonusScatter1_2').value.trim(),
        document.getElementById('bonusScatter2_2').value.trim(),
        document.getElementById('bonusScatter3_2').value.trim(),
        document.getElementById('bonusRekening2').value.trim(),
        document.getElementById('bonusKodeTransaksi2').value.trim()
      ].join('\t');
      
      copyToClipboard(data);
      showToast("‚úÖ Data 2 berhasil disalin!");
    }

    function copySemuaData() {
      const data1 = [
        document.getElementById('bonusUserid1').value.trim(),
        document.getElementById('bonusScatter1_1').value.trim(),
        document.getElementById('bonusScatter2_1').value.trim(),
        document.getElementById('bonusScatter3_1').value.trim(),
        document.getElementById('bonusRekening1').value.trim(),
        document.getElementById('bonusKodeTransaksi1').value.trim()
      ].filter(Boolean).join('\t');
      
      const data2 = [
        document.getElementById('bonusUserid2').value.trim(),
        document.getElementById('bonusScatter1_2').value.trim(),
        document.getElementById('bonusScatter2_2').value.trim(),
        document.getElementById('bonusScatter3_2').value.trim(),
        document.getElementById('bonusRekening2').value.trim(),
        document.getElementById('bonusKodeTransaksi2').value.trim()
      ].filter(Boolean).join('\t');
      
      if (!data1 && !data2) {
        showToast("‚ùå Tidak ada data yang valid!");
        return;
      }
      
      let teks = '';
      if (data1) teks += data1 + '\n';
      if (data2) teks += data2;
      
      copyToClipboard(teks.trim());
      showToast("‚úÖ Semua data berhasil disalin!");
    }

    function hapusSemuaData() {
      const inputs = [
        'bonusUserid1', 'bonusScatter1_1', 'bonusScatter2_1', 'bonusScatter3_1', 'bonusRekening1', 'bonusKodeTransaksi1',
        'bonusUserid2', 'bonusScatter1_2', 'bonusScatter2_2', 'bonusScatter3_2', 'bonusRekening2', 'bonusKodeTransaksi2'
      ];
      
      inputs.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.value = '';
      });
      
      showToast("üßπ Semua data dihapus.");
    }

    // ========================================
    // LIGHTBOX FUNCTIONS
    // ========================================
    function showLightbox(src) {
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightboxImg');
      
      if (!lightbox || !lightboxImg) {
        console.error('Elemen lightbox tidak ditemukan');
        return;
      }
      
      lightboxImg.src = src;
      lightbox.style.display = 'flex';
      
      // Set current image index
      lightboxIndex = lightboxImages.indexOf(src);
      if (lightboxIndex === -1) lightboxIndex = 0;
      
      resetZoomAndPosition();
    }

    function hideLightbox() {
      const lightbox = document.getElementById('lightbox');
      if (lightbox) {
        lightbox.style.display = 'none';
      }
    }

    function changeLightbox(direction) {
      lightboxIndex += direction;
      if (lightboxIndex < 0) lightboxIndex = lightboxImages.length - 1;
      if (lightboxIndex >= lightboxImages.length) lightboxIndex = 0;
      
      const imgEl = document.getElementById('lightboxImg');
      if (imgEl) {
        imgEl.src = lightboxImages[lightboxIndex];
      }
      
      resetZoomAndPosition();
    }

    function resetZoomAndPosition() {
      zoomLevel = 1;
      offsetX = 0;
      offsetY = 0;
      applyTransform();
      
      const zoomSlider = document.getElementById('zoomSlider');
      if (zoomSlider) zoomSlider.value = zoomLevel;
    }

    function applyTransform() {
      const imgEl = document.getElementById('lightboxImg');
      if (!imgEl) return;
      
      imgEl.style.transform = `scale(${zoomLevel}) translate(${offsetX}px, ${offsetY}px)`;
    }

    function zoomLightbox(factor) {
      zoomLevel *= factor;
      zoomLevel = Math.min(Math.max(zoomLevel, 0.5), 5);
      applyTransform();
      
      const zoomSlider = document.getElementById('zoomSlider');
      if (zoomSlider) zoomSlider.value = zoomLevel;
    }

    function startDrag(clientX, clientY) {
      if (zoomLevel <= 1) return;
      isDragging = true;
      startX = clientX - offsetX;
      startY = clientY - offsetY;
      
      const imgEl = document.getElementById('lightboxImg');
      if (imgEl) imgEl.style.cursor = 'grabbing';
    }

    function moveDrag(clientX, clientY) {
      if (!isDragging) return;
      offsetX = clientX - startX;
      offsetY = clientY - startY;
      applyTransform();
    }

    function endDrag() {
      isDragging = false;
      const imgEl = document.getElementById('lightboxImg');
      if (imgEl) imgEl.style.cursor = 'grab';
    }

    function setupEventListeners() {
      // Lightbox event listeners
      const lightboxEl = document.getElementById('lightbox');
      const imgEl = document.getElementById('lightboxImg');
      const zoomSlider = document.getElementById('zoomSlider');
      
      if (lightboxEl && imgEl) {
        if (zoomSlider) {
          zoomSlider.addEventListener('input', () => {
            zoomLevel = parseFloat(zoomSlider.value);
            applyTransform();
          });
        }
        
        lightboxEl.addEventListener('wheel', e => {
          e.preventDefault();
          zoomLightbox(e.deltaY < 0 ? 1.1 : 0.9);
        });
        
        imgEl.addEventListener('mousedown', e => {
          startDrag(e.clientX, e.clientY);
          e.preventDefault();
        });
        
        imgEl.addEventListener('touchstart', e => {
          startDrag(e.touches[0].clientX, e.touches[0].clientY);
        });
        
        imgEl.addEventListener('touchmove', e => {
          moveDrag(e.touches[0].clientX, e.touches[0].clientY);
          e.preventDefault();
        });
        
        imgEl.addEventListener('touchend', endDrag);
        imgEl.addEventListener('dblclick', () => zoomLightbox(1.5));
        lightboxEl.addEventListener('click', e => {
          if (e.target === lightboxEl) hideLightbox();
        });
      }
      
      // Mouse and touch event listeners
      window.addEventListener('mousemove', e => moveDrag(e.clientX, e.clientY));
      window.addEventListener('mouseup', endDrag);
      
      // Keyboard event listener
      document.addEventListener('keydown', e => {
        if (lightboxEl && lightboxEl.style.display === 'flex') {
          switch (e.key) {
            case 'ArrowLeft': changeLightbox(-1); break;
            case 'ArrowRight': changeLightbox(1); break;
            case 'Escape': hideLightbox(); break;
            case '+': zoomLightbox(1.2); break;
            case '-': zoomLightbox(0.8); break;
          }
        }
      });
      
      // Scan Scatter button event listeners
      document.querySelectorAll('[id^="bonusScatter2_"]').forEach(input => {
        input.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            const index = input.id.split('_')[1];
            scanScatter2(index);
          }
        });
      });
    }

    // ========================================
    // SCAN SCATTER FUNCTIONS
    // ========================================
    function scanScatter2(index) {
      const link = document.getElementById(`bonusScatter2_${index}`).value.trim();
      if (!link) {
        showToast("‚ùå Masukkan link Scatter 2 terlebih dahulu!");
        return;
      }
      
      // In a real app, this would open a modal with OCR processing
      showToast(`üîç Memproses gambar dari link: ${link.substring(0, 30)}...`);
      
      // Simulate OCR result after delay
      setTimeout(() => {
        const randomCode = `KODE${Math.floor(100000 + Math.random() * 900000)}`;
        document.getElementById(`bonusKodeTransaksi${index}`).value = randomCode;
        showToast(`‚úÖ Kode transaksi untuk Data ${index} ditemukan: ${randomCode}`);
      }, 1500);
    }

    // ========================================
    // TOAST NOTIFICATION
    // ========================================
    function showToast(message) {
      const toast = document.getElementById('toastNotif');
      if (!toast) {
        const newToast = document.createElement('div');
        newToast.id = 'toastNotif';
        newToast.style.cssText = `
          position: fixed;
          bottom: 25px;
          right: 25px;
          z-index: 9999;
          background: rgba(0, 255, 255, 0.92);
          color: #000;
          padding: 12px 22px;
          border-radius: 14px;
          font-weight: bold;
          font-size: 16px;
          box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
          display: none;
          animation: toastSlideIn 0.4s ease-out, toastSlideOut 0.4s ease-in 2.6s;
          letter-spacing: 0.5px;
          border: 2px solid #000;
        `;
        newToast.textContent = message;
        document.body.appendChild(newToast);
        
        // Add animation keyframes
        const style = document.createElement('style');
        style.textContent = `
          @keyframes toastSlideIn {
            from { transform: translateX(200px) scale(0.8); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
          }
          @keyframes toastSlideOut {
            from { transform: translateX(0) scale(1); opacity: 1; }
            to { transform: translateX(200px) scale(0.8); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
        
        newToast.style.display = 'block';
        
        // Auto hide after 3 seconds
        setTimeout(() => {
          newToast.style.display = 'none';
          document.body.removeChild(newToast);
        }, 3000);
      } else {
        toast.textContent = message;
        toast.style.display = 'block';
        
        // Reset animation
        toast.style.animation = 'none';
        setTimeout(() => {
          toast.style.animation = 'toastSlideIn 0.4s ease-out, toastSlideOut 0.4s ease-in 2.6s';
        }, 10);
        
        // Auto hide after 3 seconds
        setTimeout(() => {
          toast.style.display = 'none';
        }, 3000);
      }
    }

    // ========================================
    // NOTES & SEARCH FUNCTIONS
    // ========================================
    function loadNotes(folder) {
      currentFolder = folder;
      showToast(`üìÅ Menampilkan folder: ${folder}`);
    }

    function searchNotes() {
      const searchInput = document.getElementById("searchInput");
      if (!searchInput) return;
      
      const query = searchInput.value.trim().toLowerCase();
      const allCards = document.querySelectorAll(".note-card, .foto-card");
      
      let foundCount = 0;
      allCards.forEach(card => {
        const title = card.querySelector(".note-title, .foto-title");
        const content = card.querySelector(".note-detail, .foto-title");
        const titleText = title ? title.textContent.toLowerCase() : "";
        const contentText = content ? content.textContent.toLowerCase() : "";
        
        if (titleText.includes(query) || contentText.includes(query)) {
          card.style.display = "block";
          foundCount++;
        } else {
          card.style.display = "none";
        }
      });
      
      if (foundCount === 0) {
        showToast("üîç Tidak ada hasil yang ditemukan");
      }
    }

    // ========================================
    // AI CHAT FUNCTIONS
    // ========================================
    function sendMessage() {
      const inputDiv = document.getElementById('chatInput');
      if (!inputDiv) return;
      
      const userText = inputDiv.innerText.trim();
      if (!userText) return;
      
      // Add user message
      addMessage('user', userText);
      
      // Clear input
      inputDiv.innerText = '';
      
      // Show typing indicator
      showTypingIndicator();
      
      // Simulate AI response after delay
      setTimeout(() => {
        hideTypingIndicator();
        
        // Process special commands
        if (userText.toLowerCase().startsWith('/gambar:')) {
          const prompt = userText.substring(8).trim();
          if (prompt) {
            addMessage('ai', `üñºÔ∏è Membuat gambar: "${prompt}"\n\n[ Gambar akan muncul di sini dalam aplikasi nyata ]`);
          } else {
            addMessage('ai', '‚ùå Prompt tidak boleh kosong setelah `/gambar:`');
          }
        } else {
          // Regular AI response
          const responses = [
            `Berdasarkan data yang saya analisis, prediksi untuk pasaran Sydney hari ini adalah:\n\n‚Ä¢ Angka 2D: 28, 45, 73\n‚Ä¢ Angka 3D: 128, 345, 673\n‚Ä¢ Angka 4D: 1289, 3456, 6731\n\nPrediksi ini berdasarkan pola historis dan algoritma AI. Gunakan dengan bijak! üçÄ`,
            `Cara menghitung bonus referral:\n\n1. Bonus = Total Turnover Downline √ó Persentase Bonus\n2. Contoh: Turnover Downline Rp 50.000.000 √ó 1% = Rp 500.000\n3. Bonus maksimal Rp 5.000.000 per minggu\n\nApakah Anda ingin saya jelaskan lebih detail?`,
            `Jadwal pasaran togel hari ini:\n\n‚Ä¢ Sydney: Buka 13:50 WIB\n‚Ä¢ Singapore: Buka 17:30 WIB\n‚Ä¢ Hongkong: Buka 23:00 WIB\n‚Ä¢ Macau: Buka 21:00 WIB\n‚Ä¢ Jakarta: Buka 19:30 WIB\n\nApakah ada pasaran lain yang ingin Anda ketahui?`,
            `Untuk deposit via DANA:\n\n1. Buka aplikasi DANA\n2. Pilih "Kirim" > "Ke Bank"\n3. Masukkan rekening tujuan\n4. Masukkan nominal\n5. **PENTING:** Cantumkan USERID di berita transfer\n6. Konfirmasi transaksi\n\nMinimal deposit Rp 50.000. Proses maksimal 5 menit.`
          ];
          
          const randomResponse = responses[Math.floor(Math.random() * responses.length)];
          addMessage('ai', randomResponse);
        }
      }, 1200);
    }

    function addMessage(sender, text) {
      const chatHistory = document.getElementById('chatHistory');
      if (!chatHistory) return;
      
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${sender}-message`;
      messageDiv.style.cssText = `
        margin: 10px 0;
        display: flex;
        justify-content: ${sender === 'user' ? 'flex-end' : 'flex-start'};
        animation: fadeIn 0.3s ease-out;
      `;
      
      const bubbleDiv = document.createElement('div');
      bubbleDiv.className = 'message-bubble';
      bubbleDiv.style.cssText = `
        background: ${sender === 'user' ? 'rgba(0, 74, 124, 0.4)' : 'rgba(0, 30, 60, 0.85)'};
        border: 1px solid var(--neon-blue);
        color: var(--neon-blue);
        padding: 15px;
        border-radius: 18px;
        max-width: 85%;
        line-height: 1.6;
        ${sender === 'user' ? 'border-bottom-right-radius: 6px;' : 'border-bottom-left-radius: 6px;'}
      `;
      
      // Format text with line breaks
      bubbleDiv.innerHTML = text.replace(/\n/g, '<br>');
      
      messageDiv.appendChild(bubbleDiv);
      chatHistory.appendChild(messageDiv);
      
      // Auto scroll to bottom
      chatHistory.scrollTop = chatHistory.scrollHeight;
    }

    function showTypingIndicator() {
      const chatHistory = document.getElementById('chatHistory');
      if (!chatHistory) return;
      
      const indicator = document.createElement('div');
      indicator.id = 'typingIndicator';
      indicator.className = 'message ai-message';
      indicator.style.cssText = `margin: 10px 0; display: flex; justify-content: flex-start;`;
      indicator.innerHTML = `
        <div class="message-bubble" style="
          background: rgba(0, 30, 60, 0.85);
          border: 1px solid rgba(0, 229, 255, 0.5);
          color: var(--neon-blue);
          padding: 15px;
          border-radius: 18px;
          max-width: 85%;
          line-height: 1.6;
          border-bottom-left-radius: 6px;
        ">
          <div style="display: flex; gap: 4px;">
            <span style="display: inline-block; width: 8px; height: 8px; background: var(--neon-blue); border-radius: 50%; animation: typing 1.4s infinite; animation-delay: 0s;"></span>
            <span style="display: inline-block; width: 8px; height: 8px; background: var(--neon-blue); border-radius: 50%; animation: typing 1.4s infinite; animation-delay: 0.2s;"></span>
            <span style="display: inline-block; width: 8px; height: 8px; background: var(--neon-blue); border-radius: 50%; animation: typing 1.4s infinite; animation-delay: 0.4s;"></span>
          </div>
        </div>
      `;
      
      // Add animation keyframes if not exists
      if (!document.getElementById('typingAnimation')) {
        const style = document.createElement('style');
        style.id = 'typingAnimation';
        style.textContent = `
          @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.5; }
            30% { transform: translateY(-10px); opacity: 1; }
          }
        `;
        document.head.appendChild(style);
      }
      
      chatHistory.appendChild(indicator);
      chatHistory.scrollTop = chatHistory.scrollHeight;
    }

    function hideTypingIndicator() {
      const indicator = document.getElementById('typingIndicator');
      if (indicator) indicator.remove();
    }

    // ========================================
    // HADIAH TOGEL FUNCTIONS
    // ========================================
    function showHadiahTab() {
      showTab('cekhadiahTab');
      // In a real app, this would load hadiah data from server
      showToast("üí° Menampilkan hadiah togel...");
    }

    // ========================================
    // REPORT LINE FUNCTIONS
    // ========================================
    function loadReportLineData() {
      showToast("üìä Memuat data report line...");
      // In a real app, this would load data from server
    }

    // ========================================
    // INITIALIZE APP
    // ========================================
    window.onload = function() {
      // Set initial theme if saved
      const savedTheme = localStorage.getItem('backgroundTheme');
      if (savedTheme) {
        document.body.className = savedTheme;
      }
      
      // Initialize event listeners
      setupEventListeners();
      
      // Show welcome message
      setTimeout(() => {
        showToast("‚ú® Selamat datang di LINE TOGEL - Aplikasi Catatan Neon!");
      }, 500);
    };
  </script>
</body>
</html>
