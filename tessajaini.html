<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndoNet Connect - Alat Jaringan Indonesia</title>
    <style>
        :root {
            --primary-red: #FF0000;
            --primary-white: #FFFFFF;
            --bg-dark: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --accent-green: #10b981;
            --accent-blue: #3b82f6;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-dark);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #b91c1c 0%, #7f1d1d 100%);
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            border-bottom: 4px solid var(--primary-white);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .brand-icon {
            width: 32px;
            height: 32px;
            background: var(--primary-white);
            border-radius: 50%;
            position: relative;
        }

        .brand-icon::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 50%;
            background: var(--primary-red);
        }

        /* Container */
        main {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 768px) {
            main {
                grid-template-columns: 2fr 1fr;
            }
        }

        /* Cards */
        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: transform 0.2s ease;
        }

        .card:hover {
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 0.5rem;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-white);
        }

        /* Status Display */
        .status-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .status-item {
            background: rgba(0,0,0,0.2);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--text-muted);
        }

        .status-item.active {
            border-left-color: var(--accent-green);
        }

        .status-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.25rem;
        }

        .status-value {
            font-size: 1.1rem;
            font-weight: 600;
            font-family: monospace;
        }

        /* Connection Simulator */
        .server-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .server-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255,255,255,0.03);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid transparent;
            transition: all 0.2s;
        }

        .server-option:hover {
            background: rgba(255,255,255,0.08);
        }

        .server-option.selected {
            border-color: var(--primary-red);
            background: rgba(255, 0, 0, 0.1);
        }

        .server-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .server-flag {
            width: 24px;
            height: 16px;
            background: linear-gradient(to bottom, red 50%, white 50%);
            border: 1px solid #ddd;
        }

        .btn-connect {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-connect.disconnect {
            background-color: var(--accent-green);
            color: white;
        }

        .btn-connect.connect {
            background-color: var(--primary-red);
            color: white;
        }

        .btn-connect:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-connect:hover:not(:disabled) {
            filter: brightness(1.1);
        }

        /* Proxy Input Form */
        .proxy-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .form-input {
            padding: 0.75rem;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: white;
            font-family: monospace;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-red);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            background: var(--accent-blue);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-small:hover {
            background: #2563eb;
        }

        /* Terminal Logs */
        .terminal {
            background: #000;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.85rem;
            color: #33ff00;
            height: 200px;
            overflow-y: auto;
            border: 1px solid #333;
        }

        .log-entry {
            margin-bottom: 4px;
            word-break: break-all;
        }

        .log-time {
            color: #888;
            margin-right: 8px;
        }

        /* Toast Notification */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .toast {
            background: var(--card-bg);
            border-left: 4px solid var(--accent-blue);
            padding: 1rem 1.5rem;
            margin-top: 10px;
            border-radius: 4px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease-out;
            color: white;
            max-width: 300px;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }

        .connected-pulse {
            animation: pulse 2s infinite;
            border-left-color: var(--accent-green);
        }

        /* Disclaimer */
        .disclaimer {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* Icons (SVG) */
        .icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }
    </style>
</head>
<body>

    <header>
        <div class="brand">
            <div class="brand-icon"></div>
            IndoNet Connect
        </div>
        <div style="font-size: 0.9rem; opacity: 0.8;">Versi 1.0.2</div>
    </header>

    <main>
        <!-- Left Column: Status & Controls -->
        <section style="display: flex; flex-direction: column; gap: 2rem;">
            
            <!-- Current IP Status -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Status Koneksi Saat Ini</div>
                    <div id="connection-status-badge" style="padding: 4px 8px; background: #334155; border-radius: 4px; font-size: 0.8rem;">
                        Menunggu...
                    </div>
                </div>
                
                <div class="status-grid">
                    <div class="status-item" id="ip-container">
                        <div class="status-label">Alamat IP Publik</div>
                        <div class="status-value" id="current-ip">Scanning...</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">Lokasi (Estimasi)</div>
                        <div class="status-value" id="current-location">-</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">ISP</div>
                        <div class="status-value" id="current-isp">-</div>
                    </div>
                </div>
            </div>

            <!-- Connection Simulator -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Simulasi Server Indonesia</div>
                </div>
                
                <p style="margin-bottom: 1rem; font-size: 0.9rem; color: var(--text-muted);">
                    Pilih server server Indonesia di bawah ini untuk mensimulasikan konfigurasi jaringan (Mode UI).
                </p>

                <div class="server-list">
                    <div class="server-option selected" onclick="selectServer(this, 'Jakarta')">
                        <div class="server-info">
                            <div class="server-flag"></div>
                            <div>
                                <div style="font-weight: 600;">Jakarta</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">Server VIP #01</div>
                            </div>
                        </div>
                        <div class="status-indicator">●</div>
                    </div>
                    <div class="server-option" onclick="selectServer(this, 'Surabaya')">
                        <div class="server-info">
                            <div class="server-flag"></div>
                            <div>
                                <div style="font-weight: 600;">Surabaya</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">Server East Java #02</div>
                            </div>
                        </div>
                        <div class="status-indicator">●</div>
                    </div>
                    <div class="server-option" onclick="selectServer(this, 'Batam')">
                        <div class="server-info">
                            <div class="server-flag"></div>
                            <div>
                                <div style="font-weight: 600;">Batam</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">Server Riau #03</div>
                            </div>
                        </div>
                        <div class="status-indicator">●</div>
                    </div>
                </div>

                <button id="main-action-btn" class="btn-connect connect" onclick="toggleConnection()">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                    Hubungkan IP
                </button>
            </div>
        </section>

        <!-- Right Column: Tools & Logs -->
        <section style="display: flex; flex-direction: column; gap: 2rem;">
            
            <!-- Manual Proxy Input -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Konfigurasi Proxy Manual</div>
                </div>
                <div class="proxy-form">
                    <div class="form-group">
                        <label class="form-label">IP Address</label>
                        <input type="text" class="form-input" id="proxy-ip" placeholder="Contoh: 192.168.1.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Port</label>
                        <input type="number" class="form-input" id="proxy-port" placeholder="Contoh: 8080">
                    </div>
                    <button class="btn-small" onclick="saveProxy()">Simpan Konfigurasi</button>
                </div>
            </div>

            <!-- Terminal Logs -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Log Jaringan</div>
                </div>
                <div class="terminal" id="terminal-logs">
                    <div class="log-entry"><span class="log-time">[System]</span> Aplikasi siap...</div>
                    <div class="log-entry"><span class="log-time">[System]</span> Memulai inisialisasi antarmuka jaringan...</div>
                </div>
            </div>
        </section>
    </main>

    <div class="disclaimer">
        <p><strong>Catatan Penting:</strong> Aplikasi ini adalah alat bantu simulasi UI dan pengecekan informasi IP. Karena keterbatasan keamanan browser, halaman web tidak dapat mengubah alamat IP fisis perangkat Anda secara langsung seperti aplikasi VPN sistem operasi. Untuk mengubah IP asli, Anda memerlukan layanan VPN/Proxy yang terinstal di perangkat.</p>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <script>
        // State
        let isConnected = false;
        let selectedLocation = 'Jakarta';
        
        // Fake IPs for simulation
        const fakeIndoIPs = {
            'Jakarta': '36.72.203.xx',
            'Surabaya': '114.125.24.xx',
            'Batam': '103.11.22.xx'
        };

        // DOM Elements
        const currentIpEl = document.getElementById('current-ip');
        const currentLocEl = document.getElementById('current-location');
        const currentIspEl = document.getElementById('current-isp');
        const actionBtn = document.getElementById('main-action-btn');
        const terminalLogs = document.getElementById('terminal-logs');
        const ipContainer = document.getElementById('ip-container');
        const badge = document.getElementById('connection-status-badge');

        // Initial Load
        window.addEventListener('DOMContentLoaded', () => {
            fetchRealIP();
            addLog("Menginisialisasi IndoNet Connect...");
        });

        // 1. Fetch Real IP Function (Using ipapi.co)
        async function fetchRealIP() {
            addLog("Mencoba mendeteksi IP publik saat ini...");
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                
                if (data.error) {
                    throw new Error("Gagal mengambil data IP");
                }

                currentIpEl.innerText = data.ip;
                currentLocEl.innerText = `${data.city}, ${data.country_name}`;
                currentIspEl.innerText = data.org;
                addLog(`IP Terdeteksi: ${data.ip} (${data.country_code})`);
            } catch (error) {
                addLog("Gagal terhubung ke API IP deteksi.");
                currentIpEl.innerText = "Tidak Diketahui";
                currentLocEl.innerText = "Localhost / Offline";
                currentIspEl.innerText = "-";
            }
        }

        // 2. Server Selection Logic
        function selectServer(element, location) {
            if (isConnected) {
                showToast("Putuskan koneksi terlebih dahulu untuk mengganti server.", "error");
                return;
            }
            
            // Visual Update
            document.querySelectorAll('.server-option').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            
            selectedLocation = location;
            addLog(`Server target dipilih: ${selectedLocation}`);
        }

        // 3. Connect/Disconnect Simulation Logic
        function toggleConnection() {
            if (!isConnected) {
                // Start Connection
                startConnectionSimulation();
            } else {
                // Disconnect
                disconnect();
            }
        }

        function startConnectionSimulation() {
            actionBtn.disabled = true;
            actionBtn.innerHTML = 'Menghubungkan...';
            addLog(`Memulai handshake dengan server ${selectedLocation}...`);

            // Step 1: Auth
            setTimeout(() => {
                addLog("Otentikasi kunci enkripsi...");
            }, 800);

            // Step 2: Tunneling
            setTimeout(() => {
                addLog("Membangun terowongan aman (Secure Tunnel)...");
            }, 1800);

            // Step 3: Success
            setTimeout(() => {
                completeConnection();
            }, 3000);
        }

        function completeConnection() {
            isConnected = true;
            const fakeIP = fakeIndoIPs[selectedLocation];
            
            // Update UI
            actionBtn.disabled = false;
            actionBtn.innerHTML = `
                <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                Putuskan
            `;
            actionBtn.classList.remove('connect');
            actionBtn.classList.add('disconnect');

            currentIpEl.innerText = fakeIP;
            currentLocEl.innerText = `${selectedLocation}, Indonesia`;
            currentIspEl.innerText = "IndoNet Relay Network";
            
            ipContainer.classList.add('connected-pulse');
            ipContainer.classList.add('active');
            badge.innerText = "Terlindungi (Simulasi)";
            badge.style.background = "var(--accent-green)";

            addLog(`BERHASIL: Terhubung ke IP ${fakeIP} via ${selectedLocation}`);
            showToast(`Berhasil terhubung ke server ${selectedLocation}`, "success");
        }

        function disconnect() {
            isConnected = false;
            
            // Update UI
            actionBtn.classList.remove('disconnect');
            actionBtn.classList.add('connect');
            actionBtn.innerHTML = `
                <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                Hubungkan IP
            `;

            ipContainer.classList.remove('connected-pulse');
            ipContainer.classList.remove('active');
            badge.innerText = "Menunggu Koneksi";
            badge.style.background = "#334155";

            addLog("Koneksi diputus oleh pengguna.");
            
            // Revert to Real IP
            fetchRealIP();
        }

        // 4. Proxy Input Logic
        function saveProxy() {
            const ip = document.getElementById('proxy-ip').value;
            const port = document.getElementById('proxy-port').value;

            if (!ip || !port) {
                showToast("IP dan Port harus diisi!", "error");
                return;
            }

            addLog(`Menyimpan konfigurasi proxy manual: ${ip}:${port}`);
            // Simulate saving delay
            setTimeout(() => {
                showToast("Konfigurasi Proxy Disimpan (Simulasi)", "success");
                addLog("Konfigurasi proxy berhasil disimpan ke cache lokal.");
            }, 500);
        }

        // 5. Utility: Add Log
        function addLog(message) {
            const now = new Date();
            const timeString = now.toLocaleTimeString('id-ID', { hour12: false });
            const div = document.createElement('div');
            div.className = 'log-entry';
            div.innerHTML = `<span class="log-time">[${timeString}]</span> ${message}`;
            terminalLogs.appendChild(div);
            terminalLogs.scrollTop = terminalLogs.scrollHeight;
        }

        // 6. Utility: Toast Notification
        function showToast(message, type = "info") {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast';
            
            let icon = '';
            let color = '';
            
            if(type === 'success') {
                color = 'var(--accent-green)';
                icon = '✓';
            } else if (type === 'error') {
                color = 'var(--primary-red)';
                icon = '✕';
            } else {
                color = 'var(--accent-blue)';
                icon = 'ℹ';
            }

            toast.style.borderLeftColor = color;
            toast.innerHTML = `<span style="font-weight:bold; color:${color}; margin-right:8px;">${icon}</span> ${message}`;

            container.appendChild(toast);

            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(100%)';
                toast.style.transition = 'all 0.3s ease';
                setTimeout(() => {
                    if(container.contains(toast)) {
                        container.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
